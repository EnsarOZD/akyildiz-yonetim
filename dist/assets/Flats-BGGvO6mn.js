import{r as e,w as a,c as r,l as t,e as l,b as s,n as o,q as i,D as d,H as n,E as c,F as u,i as b,t as g,u as y,I as m,C as v,o as p,f as x,m as f,G as k,k as h,p as w}from"./vue-vendor-B4bLxnmP.js";import{F as A,B as C}from"./units-BVkJ3cEn.js";import{a as j}from"./index-ErXur627.js";import{l as T}from"./index-BCHEzJ6T.js";const O=["open"],U={key:0,class:"modal-box max-w-4xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border border-gray-200 dark:border-gray-700 shadow-2xl"},F={class:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700 mb-6"},V={class:"overflow-y-auto max-h-[70vh] pr-2"},M={class:"card bg-base-200 p-4"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N={class:"form-control"},R={class:"form-control"},S={class:"form-control"},K={class:"form-control"},L={class:"card bg-base-200 p-4"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$={class:"form-control"},q=["value"],z={class:"form-control"},_=["value"],E={class:"card bg-base-200 p-4"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"form-control"},I={class:"form-control"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"form-control"},J={class:"label cursor-pointer"},Q={class:"form-control"},W={class:"label cursor-pointer"},X={class:"form-control"},Z={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6"},ee={__name:"FlatEditModal",props:{flat:Object,visible:Boolean},emits:["save","close"],setup(v,{emit:p}){const x=v,f=p,k=e(null);a(()=>x.flat,e=>{e&&(k.value={...e})},{immediate:!0});const h=()=>{if(!k.value)return;const e={...k.value};f("save",e)};return(e,a)=>(t(),r("dialog",{id:"editFlatModal",class:"modal",open:v.visible},[k.value?(t(),r("div",U,[s("div",F,[a[14]||(a[14]=s("h3",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2"},[s("span",{class:"text-2xl"},"âœï¸"),o(" Ãœnite Bilgilerini GÃ¼ncelle ")],-1)),s("button",{onClick:a[0]||(a[0]=a=>e.$emit("close")),class:"btn btn-sm btn-ghost text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},a[13]||(a[13]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",V,[s("form",{onSubmit:i(h,["prevent"]),class:"space-y-6"},[s("div",M,[a[19]||(a[19]=s("h4",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300"},"ðŸ“‹ Temel Bilgiler",-1)),s("div",B,[s("div",N,[a[15]||(a[15]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Ãœnite NumarasÄ± *")],-1)),d(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.unitNumber=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",required:""},null,512),[[n,k.value.unitNumber]])]),s("div",R,[a[16]||(a[16]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Kat *")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>k.value.floor=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",min:"-10",max:"50",required:""},null,512),[[n,k.value.floor,void 0,{number:!0}]])]),s("div",S,[a[17]||(a[17]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Alan (mÂ²) *")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>k.value.unitArea=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",min:"1",step:"0.01",required:""},null,512),[[n,k.value.unitArea,void 0,{number:!0}]])]),s("div",K,[a[18]||(a[18]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Oda SayÄ±sÄ± *")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>k.value.roomCount=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",min:"1",required:""},null,512),[[n,k.value.roomCount,void 0,{number:!0}]])])])]),s("div",L,[a[24]||(a[24]=s("h4",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300"},"ðŸ·ï¸ Kategori ve Ä°ÅŸ TÃ¼rÃ¼",-1)),s("div",D,[s("div",$,[a[21]||(a[21]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Kategori *")],-1)),d(s("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.category=e),class:"select select-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",required:""},[a[20]||(a[20]=s("option",{value:""},"Kategori seÃ§in",-1)),(t(!0),r(u,null,b(y(A),e=>(t(),r("option",{key:e.value,value:e.value},g(e.label),9,q))),128))],512),[[c,k.value.category]])]),s("div",z,[a[23]||(a[23]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Ä°ÅŸ TÃ¼rÃ¼")],-1)),d(s("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>k.value.businessType=e),class:"select select-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400"},[a[22]||(a[22]=s("option",{value:""},"Ä°ÅŸ tÃ¼rÃ¼ seÃ§in",-1)),(t(!0),r(u,null,b(y(C),e=>(t(),r("option",{key:e.value,value:e.value},g(e.label),9,_))),128))],512),[[c,k.value.businessType]])])])]),s("div",E,[a[27]||(a[27]=s("h4",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300"},"ðŸ’° Kira ve Durum",-1)),s("div",P,[s("div",G,[a[25]||(a[25]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"AylÄ±k Kira (â‚º)")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>k.value.monthlyRent=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",min:"0",step:"0.01"},null,512),[[n,k.value.monthlyRent,void 0,{number:!0}]])]),s("div",I,[a[26]||(a[26]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Pay OranÄ± (%)")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[8]||(a[8]=e=>k.value.shareCount=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",min:"0",step:"0.01"},null,512),[[n,k.value.shareCount,void 0,{number:!0}]])])])]),s("div",H,[s("div",Y,[s("label",J,[a[28]||(a[28]=s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Aktif Ãœnite",-1)),d(s("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>k.value.isActive=e),class:"toggle toggle-success"},null,512),[[m,k.value.isActive]])])]),s("div",Q,[s("label",W,[a[29]||(a[29]=s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Dolu Ãœnite",-1)),d(s("input",{type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=e=>k.value.isOccupied=e),class:"toggle toggle-warning"},null,512),[[m,k.value.isOccupied]])])])]),s("div",X,[a[30]||(a[30]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"AÃ§Ä±klama")],-1)),d(s("textarea",{"onUpdate:modelValue":a[11]||(a[11]=e=>k.value.description=e),class:"textarea textarea-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"Ãœnite hakkÄ±nda ek bilgiler...",rows:"3"},null,512),[[n,k.value.description]])])],32)]),s("div",Z,[s("button",{type:"button",onClick:a[12]||(a[12]=a=>e.$emit("close")),class:"btn btn-outline border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"},a[31]||(a[31]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),o(" Ä°ptal ")])),s("button",{onClick:h,class:"btn btn-primary bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 border-0 text-white shadow-lg"},a[32]||(a[32]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),o(" GÃ¼ncelle ")]))])])):l("",!0)],8,O))}},ae=["open"],re={class:"modal-box max-w-4xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border border-gray-200 dark:border-gray-700 shadow-2xl"},te={class:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700 mb-6"},le={class:"overflow-y-auto max-h-[70vh] pr-2"},se={class:"card bg-base-200 p-4"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ie={class:"form-control"},de={class:"form-control"},ne={class:"form-control"},ce={class:"card bg-base-200 p-4"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"form-control"},ge={class:"form-control"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"form-control"},ve={class:"label cursor-pointer"},pe={class:"form-control"},xe={class:"label cursor-pointer"},fe={class:"form-control"},ke={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700 mt-6"},he={__name:"FlatCreateModal",props:{visible:Boolean},emits:["save","close"],setup(l,{emit:c}){const u=l,b=c,g=e({unitNumber:"",floor:1,unitArea:0,monthlyRent:0,shareCount:1,isActive:!0,isOccupied:!1,description:""});a(()=>u.visible,e=>{e&&(g.value={unitNumber:"",floor:1,unitArea:0,monthlyRent:0,shareCount:1,isActive:!0,isOccupied:!1,description:""})});const y=()=>{const e={...g.value};b("save",e),g.value={unitNumber:"",floor:1,unitArea:0,monthlyRent:0,shareCount:1,isActive:!0,isOccupied:!1,description:""}};return(e,a)=>(t(),r("dialog",{id:"createFlatModal",class:"modal",open:l.visible},[s("div",re,[s("div",te,[a[11]||(a[11]=s("h3",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2"},[s("span",{class:"text-2xl"},"ðŸ¢"),o(" Yeni Ãœnite Ekle ")],-1)),s("button",{onClick:a[0]||(a[0]=a=>e.$emit("close")),class:"btn btn-sm btn-ghost text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},a[10]||(a[10]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",le,[s("form",{onSubmit:i(y,["prevent"]),id:"flatForm",class:"space-y-6"},[s("div",se,[a[15]||(a[15]=s("h4",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300"},"ðŸ“‹ Temel Bilgiler",-1)),s("div",oe,[s("div",ie,[a[12]||(a[12]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Ãœnite NumarasÄ± *")],-1)),d(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>g.value.unitNumber=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"A1, B2, C3...",required:""},null,512),[[n,g.value.unitNumber]])]),s("div",de,[a[13]||(a[13]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Kat *")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>g.value.floor=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"1, 2, 3...",min:"-10",max:"50",required:""},null,512),[[n,g.value.floor,void 0,{number:!0}]])]),s("div",ne,[a[14]||(a[14]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Alan (mÂ²) *")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>g.value.unitArea=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"50, 100, 150...",min:"1",step:"0.01",required:""},null,512),[[n,g.value.unitArea,void 0,{number:!0}]])])])]),s("div",ce,[a[18]||(a[18]=s("h4",{class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300"},"ðŸ’° Kira ve Durum",-1)),s("div",ue,[s("div",be,[a[16]||(a[16]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"AylÄ±k Kira (â‚º)")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>g.value.monthlyRent=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"5000",min:"0",step:"0.01"},null,512),[[n,g.value.monthlyRent,void 0,{number:!0}]])]),s("div",ge,[a[17]||(a[17]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Pay OranÄ± (%)")],-1)),d(s("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>g.value.shareCount=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"1",min:"0",step:"0.01"},null,512),[[n,g.value.shareCount,void 0,{number:!0}]])])])]),s("div",ye,[s("div",me,[s("label",ve,[a[19]||(a[19]=s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Aktif Ãœnite",-1)),d(s("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>g.value.isActive=e),class:"toggle toggle-success"},null,512),[[m,g.value.isActive]])])]),s("div",pe,[s("label",xe,[a[20]||(a[20]=s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Dolu Ãœnite",-1)),d(s("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>g.value.isOccupied=e),class:"toggle toggle-warning"},null,512),[[m,g.value.isOccupied]])])])]),s("div",fe,[a[21]||(a[21]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"AÃ§Ä±klama")],-1)),d(s("textarea",{"onUpdate:modelValue":a[8]||(a[8]=e=>g.value.description=e),class:"textarea textarea-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"Ãœnite hakkÄ±nda ek bilgiler...",rows:"3"},null,512),[[n,g.value.description]])])],32)]),s("div",ke,[s("button",{type:"button",onClick:a[9]||(a[9]=a=>e.$emit("close")),class:"btn btn-outline border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"},a[22]||(a[22]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),o(" Ä°ptal ")])),a[23]||(a[23]=s("button",{form:"flatForm",type:"submit",class:"btn btn-success bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 border-0 text-white shadow-lg"},[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),o(" Kaydet ")],-1))])])],8,ae))}},we={async getFlats(e={}){const a=new URLSearchParams;void 0!==e.isActive&&a.append("isActive",e.isActive),void 0!==e.isOccupied&&a.append("isOccupied",e.isOccupied),e.searchTerm&&a.append("searchTerm",e.searchTerm),e.floor&&a.append("floor",e.floor);const r=a.toString(),t=r?`/flats?${r}`:"/flats";return await j.get(t)},getFlatById:async e=>await j.get(`/flats/${e}`),createFlat:async e=>await j.post("/flats",e),updateFlat:async(e,a)=>await j.put(`/flats/${e}`,a),deleteFlat:async e=>await j.delete(`/flats/${e}`),async getAvailableFlats(e={}){const a=new URLSearchParams;e.floor&&a.append("floor",e.floor),e.searchTerm&&a.append("searchTerm",e.searchTerm);const r=a.toString(),t=r?`/flats/available?${r}`:"/flats/available";return await j.get(t)},getFlatStats:async()=>await j.get("/flats/stats")},Ae={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6"},Ce={class:"mb-8"},je={class:"flex items-center justify-between"},Te={class:"card bg-white dark:bg-gray-800 shadow-lg mb-6"},Oe={class:"card-body"},Ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Fe={class:"form-control"},Ve={class:"form-control"},Me={class:"form-control"},Be={class:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Ne={class:"text-sm text-gray-500 dark:text-gray-400"},Re={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Se={class:"absolute top-4 right-4 z-10"},Ke={class:"dropdown dropdown-end"},Le={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-200 rounded-box w-40 z-10"},De=["onClick"],$e=["onClick"],qe=["onClick"],ze={class:"flex items-center gap-4 mb-4"},_e={class:"flex items-center gap-2 mb-1"},Ee={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},Pe={class:"badge badge-info text-xs"},Ge={class:"flex items-center gap-2"},Ie={class:"space-y-2 text-sm text-gray-600 dark:text-gray-400"},He={class:"flex justify-between"},Ye={class:"font-semibold"},Je={class:"flex justify-between"},Qe={class:"font-semibold"},We={class:"flex justify-between"},Xe={class:"font-semibold"},Ze={key:0,class:"flex justify-between"},ea={class:"font-semibold"},aa={key:1,class:"flex justify-between"},ra={class:"font-semibold text-green-600"},ta={key:0,class:"mt-3 text-xs text-gray-500 dark:text-gray-400 italic"},la={key:1,class:"text-center py-12"},sa={class:"card-body border-t border-gray-200 dark:border-gray-700"},oa={class:"flex items-center justify-between"},ia={class:"text-sm text-gray-600 dark:text-gray-400"},da={class:"join"},na=["disabled"],ca={class:"join-item btn btn-sm"},ua=["disabled"],ba={__name:"Flats",setup(i){const y=h(),m=e([]),A=e(!1),C=e(!1),j=e(!1),O=e(null),U=e(1),F=e({searchTerm:"",isActive:"",isOccupied:""}),V=v(()=>{let e=m.value;if(F.value.searchTerm){const a=F.value.searchTerm.toLowerCase();e=e.filter(e=>e.unitNumber.toLowerCase().includes(a)||e.floor.toString().includes(a))}return""!==F.value.isActive&&(e=e.filter(e=>e.isActive===("true"===F.value.isActive))),""!==F.value.isOccupied&&(e=e.filter(e=>e.isOccupied===("true"===F.value.isOccupied))),e}),M=v(()=>{const e=10*(U.value-1),a=e+10;return V.value.slice(e,a)}),B=v(()=>Math.ceil(V.value.length/10)),N=async()=>{A.value=!0;try{const e=await we.getFlats();m.value=e}catch(e){T.error("Ãœniteler yÃ¼klenirken hata oluÅŸtu")}finally{A.value=!1}},R=()=>{U.value=1},S=()=>{F.value={searchTerm:"",isActive:"",isOccupied:""},U.value=1},K=async e=>{try{await we.createFlat(e),T.success("Ãœnite baÅŸarÄ±yla eklendi"),C.value=!1,await N()}catch(a){T.error("Ãœnite eklenirken hata oluÅŸtu")}},L=async e=>{try{await we.updateFlat(O.value.id,e),T.success("Ãœnite baÅŸarÄ±yla gÃ¼ncellendi"),D(),await N()}catch(a){T.error("Ãœnite gÃ¼ncellenirken hata oluÅŸtu")}},D=()=>{O.value=null,j.value=!1},$=e=>{const a=FLAT_CATEGORIES.find(a=>a.value===e);return a?a.label:e},q=e=>e.isActive?e.isOccupied?"bg-orange-500":"bg-green-500":"bg-gray-500";return p(()=>{N()}),a(F,()=>{R()},{deep:!0}),(e,a)=>(t(),r("div",Ae,[s("div",Ce,[s("div",je,[a[8]||(a[8]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2 flex items-center gap-3"},[s("span",{class:"text-4xl"},"ðŸ¢"),o(" Ãœnite YÃ¶netimi ")]),s("p",{class:"text-gray-600 dark:text-gray-400"},"Ä°ÅŸ hanÄ±ndaki tÃ¼m Ã¼niteleri yÃ¶netin")],-1)),s("button",{onClick:a[0]||(a[0]=e=>C.value=!0),class:"btn btn-success bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 border-0 text-white shadow-lg"},a[7]||(a[7]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),o(" Yeni Ãœnite Ekle ")]))])]),s("div",Te,[s("div",Oe,[s("div",Ue,[s("div",Fe,[a[9]||(a[9]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Arama")],-1)),d(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>F.value.searchTerm=e),onInput:R,class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400",placeholder:"Ãœnite no, kat..."},null,544),[[n,F.value.searchTerm]])]),s("div",Ve,[a[11]||(a[11]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Durum")],-1)),d(s("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>F.value.isActive=e),onChange:R,class:"select select-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400"},a[10]||(a[10]=[s("option",{value:""},"TÃ¼mÃ¼",-1),s("option",{value:"true"},"Aktif",-1),s("option",{value:"false"},"Pasif",-1)]),544),[[c,F.value.isActive]])]),s("div",Me,[a[13]||(a[13]=s("label",{class:"label"},[s("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Doluluk")],-1)),d(s("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>F.value.isOccupied=e),onChange:R,class:"select select-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:border-blue-500 dark:focus:border-blue-400"},a[12]||(a[12]=[s("option",{value:""},"TÃ¼mÃ¼",-1),s("option",{value:"true"},"Dolu",-1),s("option",{value:"false"},"BoÅŸ",-1)]),544),[[c,F.value.isOccupied]])])]),s("div",Be,[s("div",{class:"flex gap-2"},[s("button",{onClick:S,class:"btn btn-outline btn-sm border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"},a[14]||(a[14]=[s("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),o(" Filtreleri Temizle ")]))]),s("div",Ne,g(V.value.length)+" Ã¼nite bulundu ",1)])])]),V.value.length>0?(t(),r("div",Re,[(t(!0),r(u,null,b(M.value,e=>{return t(),r("div",{key:e.id,class:"relative group bg-white dark:bg-gray-800 rounded-2xl shadow-lg transition-transform duration-200 hover:scale-105 hover:shadow-2xl p-6 flex flex-col"},[s("div",Se,[s("div",Ke,[a[15]||(a[15]=k('<button tabindex="0" class="btn btn-ghost btn-circle btn-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="1.5"></circle><circle cx="19" cy="12" r="1.5"></circle><circle cx="5" cy="12" r="1.5"></circle></svg></button>',1)),s("ul",Le,[s("li",null,[s("a",{onClick:a=>(e=>{y.push(`/flats/${e.id}`)})(e)},"DetaylarÄ± GÃ¶r",8,De)]),s("li",null,[s("a",{onClick:a=>(e=>{O.value=e,j.value=!0})(e)},"DÃ¼zenle",8,$e)]),s("li",null,[s("a",{onClick:a=>(async e=>{if(confirm(`${e.unitNumber} Ã¼nitesini silmek istediÄŸinizden emin misiniz?`))try{await we.deleteFlat(e.id),T.success("Ãœnite baÅŸarÄ±yla silindi"),await N()}catch(a){T.error("Ãœnite silinirken hata oluÅŸtu")}})(e),class:"text-error"},"Sil",8,qe)])])])]),s("div",ze,[s("div",{class:w(["flex items-center justify-center rounded-full w-16 h-16 text-2xl font-bold text-white shadow-lg",q(e)])},g(e.unitNumber),3),s("div",null,[s("div",_e,[s("span",Ee,g(e.unitNumber),1),s("span",Pe,g(e.floor)+". Kat",1)]),s("div",Ge,[s("span",{class:w(["badge font-semibold",e.isActive?"badge-success":"badge-ghost"])},g(e.isActive?"Aktif":"Pasif"),3),s("span",{class:w(["badge font-semibold",e.isOccupied?"badge-warning":"badge-info"])},g(e.isOccupied?"Dolu":"BoÅŸ"),3)])])]),s("div",Ie,[s("div",He,[a[16]||(a[16]=s("span",null,"Alan:",-1)),s("span",Ye,g(e.unitArea)+"mÂ²",1)]),s("div",Je,[a[17]||(a[17]=s("span",null,"Oda SayÄ±sÄ±:",-1)),s("span",Qe,g(e.roomCount),1)]),s("div",We,[a[18]||(a[18]=s("span",null,"Kategori:",-1)),s("span",Xe,g($(e.category)),1)]),e.businessType?(t(),r("div",Ze,[a[19]||(a[19]=s("span",null,"Ä°ÅŸ TÃ¼rÃ¼:",-1)),s("span",ea,g(e.businessType),1)])):l("",!0),e.monthlyRent?(t(),r("div",aa,[a[20]||(a[20]=s("span",null,"AylÄ±k Kira:",-1)),s("span",ra,g((o=e.monthlyRent,new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(o))),1)])):l("",!0)]),e.description?(t(),r("div",ta,g(e.description),1)):l("",!0)]);var o}),128))])):(t(),r("div",la,a[21]||(a[21]=[k('<div class="text-gray-500 dark:text-gray-400"><svg class="mx-auto h-12 w-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg><p class="text-lg font-medium">Ãœnite bulunamadÄ±</p><p class="text-sm">Arama kriterlerinize uygun Ã¼nite bulunmamaktadÄ±r.</p></div>',1)]))),s("div",sa,[s("div",oa,[s("div",ia,g(10*(U.value-1)+1)+"-"+g(Math.min(10*U.value,V.value.length))+" / "+g(V.value.length)+" Ã¼nite ",1),s("div",da,[s("button",{onClick:a[4]||(a[4]=e=>U.value--),disabled:1===U.value,class:"join-item btn btn-sm"},"Â«",8,na),s("button",ca,g(U.value),1),s("button",{onClick:a[5]||(a[5]=e=>U.value++),disabled:U.value>=B.value,class:"join-item btn btn-sm"},"Â»",8,ua)])])]),x(he,{visible:C.value,onSave:K,onClose:a[6]||(a[6]=e=>C.value=!1)},null,8,["visible"]),O.value?(t(),f(ee,{key:2,visible:j.value,flat:O.value,onSave:L,onClose:D},null,8,["visible","flat"])):l("",!0)]))}};export{ba as default};
