import{k as e,t}from"./index-ChpY04z8.js";import{r as a,o as r,c as s,b as l,e as n,j as i,u as o,q as d,p as g,t as u,F as c,i as m,l as b,m as x}from"./vue-vendor-CVTqRqMI.js";import{f as y}from"./utils-vendor-Cy2sLATb.js";const v={class:"notifications-view pb-20 md:pb-6"},k={class:"flex items-center justify-between mb-6"},f={class:"flex gap-2 mb-6"},h={key:0,class:"inline-flex items-center justify-center w-5 h-5 bg-red-500 text-white text-[10px] rounded-full font-bold"},p={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},w={key:0,class:"p-12 text-center"},C={key:1,class:"p-12 text-center"},j={class:"text-gray-500"},A={key:2,class:"divide-y dark:divide-gray-700"},M=["onClick"],R={class:"flex items-start gap-4"},B={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},D={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},V={class:"flex-1 min-w-0"},z={class:"flex items-center justify-between mb-1"},F={class:"text-sm font-bold text-gray-900 dark:text-white"},H={class:"text-[10px] text-gray-400"},O={class:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed"},T={key:0,class:"mt-1 w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"},_={key:0,class:"mt-6 flex justify-center"},q=["disabled"],I={key:0,class:"loading loading-spinner loading-xs mr-2"},L={__name:"NotificationsView",setup(L){const N=e(),P=b(),S=a(!1);r(()=>{N.refresh()});const Y=s(()=>S.value?N.unreadItems:N.items),E=s(()=>N.items.length<N.totalCount&&!S.value),G=e=>{switch(e){case"Debt":return"bg-orange-100 text-orange-600 dark:bg-orange-900/30";case"Payment":return"bg-green-100 text-green-600 dark:bg-green-900/30";default:return"bg-blue-100 text-blue-600 dark:bg-blue-900/30"}};return(e,a)=>(x(),l("div",v,[n("div",k,[a[4]||(a[4]=n("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Bildirimler",-1)),o(N).unreadCount>0?(x(),l("button",{key:0,onClick:a[0]||(a[0]=(...e)=>o(N).markAllAsRead&&o(N).markAllAsRead(...e)),class:"text-sm text-blue-600 hover:underline font-medium"}," Tümünü okundu yap ")):i("",!0)]),n("div",f,[n("button",{onClick:a[1]||(a[1]=e=>S.value=!1),class:d(["px-4 py-2 rounded-full text-sm font-medium transition",S.value?"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700":"bg-blue-600 text-white"])}," Tümü ",2),n("button",{onClick:a[2]||(a[2]=e=>S.value=!0),class:d(["px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2",S.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"])},[a[5]||(a[5]=g(" Okunmamış ")),o(N).unreadCount>0?(x(),l("span",h,u(o(N).unreadCount),1)):i("",!0)],2)]),n("div",p,[o(N).loading&&0===o(N).items.length?(x(),l("div",w,a[6]||(a[6]=[n("span",{class:"loading loading-spinner loading-lg text-blue-600"},null,-1),n("p",{class:"mt-4 text-gray-500"},"Bildirimler yükleniyor...",-1)]))):0===Y.value.length?(x(),l("div",C,[a[7]||(a[7]=n("div",{class:"w-16 h-16 bg-gray-50 dark:bg-gray-900/50 rounded-full flex items-center justify-center mx-auto mb-4"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])],-1)),n("p",j,u(S.value?"Okunmamış bildiriminiz bulunmuyor.":"Henüz bildirim bulunmuyor."),1)])):(x(),l("div",A,[(x(!0),l(c,null,m(Y.value,e=>{return x(),l("div",{key:e.id,class:d(["p-4 md:p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition cursor-pointer relative",{"bg-blue-50/50 dark:bg-blue-900/10":!e.isRead}]),onClick:t=>(async e=>{e.isRead||await N.markAsRead(e.id),"Debt"===e.type&&P.push("/dashboard")})(e)},[n("div",R,[n("div",{class:d(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",G(e.type)])},["Debt"===e.type?(x(),l("svg",B,a[8]||(a[8]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(x(),l("svg",D,a[9]||(a[9]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},null,-1)])))],2),n("div",V,[n("div",z,[n("h3",F,u(e.title),1),n("span",H,u((r=e.createdAt,r?y(new Date(r),{addSuffix:!0,locale:t}):"")),1)]),n("p",O,u(e.message),1)]),e.isRead?i("",!0):(x(),l("div",T))])],10,M);var r}),128))]))]),E.value?(x(),l("div",_,[n("button",{onClick:a[3]||(a[3]=(...e)=>o(N).fetchMore&&o(N).fetchMore(...e)),class:"px-6 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition",disabled:o(N).loading},[o(N).loading?(x(),l("span",I)):i("",!0),a[10]||(a[10]=g(" Daha Fazla Yükle "))],8,q)])):i("",!0)]))}};export{L as default};
