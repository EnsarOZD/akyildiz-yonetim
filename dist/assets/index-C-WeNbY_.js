const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TenantDetailPage-DK1Lao-V.js","assets/vue-vendor-C74T0G6D.js","assets/AdvanceAccountManager-BA7QXoPh.js","assets/paymentsService-BRWY_5RO.js","assets/tenantsService-COb7ls1o.js","assets/utilityDebtsService-CRQj309-.js","assets/enums-CeMB0k1K.js","assets/utils-vendor-DKZIJpv7.js","assets/AdvanceAccountManager-CKigNg8W.css","assets/tenantsService-fWeC8dko.js","assets/useErrorHandler-3PH04EMR.js","assets/OwnerDues-BhGAX8JH.js","assets/LandingPage-DxnKebm0.js","assets/LandingPage-D0gGnGP3.css","assets/Dashboard-ie5FegSg.js","assets/expensesService-CdARG9IG.js","assets/ownerDuesService-Cn0VmO2K.js","assets/ownersService-DmE85ur1.js","assets/ManualDebtModal-DrGE2sfh.js","assets/Tenants-BTQ-Z8aK.js","assets/uiHelpers-CScyf4mM.js","assets/ConfirmDeleteModal-Den0orsn.js","assets/Payments-CC0EIi7_.js","assets/CustomFilterBar-DAYFRPMz.js","assets/Expenses-CyGkSiBA.js","assets/Utilities-9d0x7mHd.js","assets/FilterBar-D4qEruvM.js","assets/aidatService-Dtp8AfZr.js","assets/Flats-D2x_mUMa.js","assets/ReportsView-vKBSBE7d.js","assets/ReportsView-BXES4z6r.css","assets/AdminDashboard-vfXOaW_f.js","assets/OwnerDuesPanel-BkdOblHj.js","assets/units-DJG6lNYB.js","assets/Owners-Bg5Al9RC.js","assets/LoginView-Dd0thhMJ.js","assets/LoginView-CYxahKPr.css","assets/SetPasswordView-C6xTfk-h.js","assets/NotFound-DDpJmwEW.js","assets/Transactions-hzVUVroI.js","assets/Overdue-F4an2M8X.js","assets/OwnerPayments-e0Qsd10n.js","assets/OverdueOwnerPayments-BQ5O-q25.js"])))=>i.map(i=>d[i]);
import{d as e,r as t,o as r,a,w as n,c as s,b as o,e as i,f as l,g as u,h as c,F as d,i as m,u as h,t as p,T as g,j as f,k as v,l as y,m as w,n as k,p as b,q as x,s as _,v as A,x as E,y as T,z as L,A as O,B as S}from"./vue-vendor-C74T0G6D.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const I={ADMIN:"admin",MANAGER:"manager",DATA_ENTRY:"dataEntry",VIEWER:"viewer",TENANT:"tenant"},M={[I.ADMIN]:"Admin",[I.MANAGER]:"Yönetici",[I.DATA_ENTRY]:"Veri Giriş Sorumlusu",[I.VIEWER]:"Gözlemci (Avukat / Mal Sahibi)",[I.TENANT]:"Kiracı"},D=(()=>{let e="https://api.akyildizyonetim.com/api";return!e||e.endsWith("/api")||e.endsWith("/api/")||(e=e.endsWith("/")?`${e}api`:`${e}/api`),e})();const N=new class{constructor(){this.baseURL=D}getAuthToken(){return localStorage.getItem("authToken")}async request(e,t={}){const r=`${this.baseURL}${e}`,a={"Content-Type":"application/json",...t.headers},n=this.getAuthToken();n&&(a.Authorization=`Bearer ${n}`);const s={headers:a,...t};try{const e=await fetch(r,s);if(401===e.status)throw localStorage.removeItem("authToken"),window.location.href="/login",new Error("Oturum süresi doldu. Lütfen tekrar giriş yapın.");if(!e.ok){let t=null,r=`Bir hata oluştu. (HTTP ${e.status})`;try{const a=await e.text();if(a)try{t=JSON.parse(a),r=t.errorMessage||t.message||r}catch{t=a}}catch(o){}const a=new Error(r);throw a.status=e.status,a.response={status:e.status,data:t},a.apiError={status:e.status,data:t,message:r},401===e.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),a}const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch(i){throw new Error("Geçersiz JSON yanıtı")}}catch(l){throw l}}async get(e,t={}){const r=new URLSearchParams(t).toString(),a=r?`${e}?${r}`:e;return this.request(a,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e,t){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}async uploadFile(e,t,r=null){const a=new FormData;a.append("file",t);const n={},s=this.getAuthToken();return s&&(n.Authorization=`Bearer ${s}`),this.request(e,{method:"POST",headers:n,body:a})}};const P=new class{constructor(){this.currentUser=null,this.authListeners=[]}async login(e,t){try{const r=await N.post("/auth/login",{email:e,password:t});if(r){const e=r.token||r.accessToken||r.access_token||r.jwt;if(e)return localStorage.setItem("authToken",e),this.currentUser=r.user||r.data||r,this.notifyAuthListeners(this.currentUser),r;{this.currentUser=r.user||r.data||r;const e=btoa(JSON.stringify(this.currentUser));return localStorage.setItem("authToken",e),this.notifyAuthListeners(this.currentUser),r}}throw new Error("Boş yanıt alındı")}catch(r){throw r}}async logout(){try{await N.post("/auth/logout")}catch(e){}finally{localStorage.removeItem("authToken"),this.currentUser=null,this.notifyAuthListeners(null)}}async register(e){try{const t=await N.post("/auth/register",e);return t.token&&(localStorage.setItem("authToken",t.token),this.currentUser=t.user,this.notifyAuthListeners(this.currentUser)),t}catch(t){throw t}}async checkAuthStatus(){try{if(this.currentUser)return this.currentUser;const r=localStorage.getItem("authToken");if(!r)return this.currentUser=null,this.notifyAuthListeners(null),null;if(!this.isTokenValid(r)){try{const e=JSON.parse(atob(r));if(e&&e.email)return this.currentUser=e,this.notifyAuthListeners(this.currentUser),this.currentUser}catch(e){}return localStorage.removeItem("authToken"),this.currentUser=null,this.notifyAuthListeners(null),null}try{const e=await N.get("/auth/me");return this.currentUser=e.user||e,this.notifyAuthListeners(this.currentUser),this.currentUser}catch(t){const e=this.decodeJWT(r);return e&&e.sub?(this.currentUser={id:e.sub,email:e.email,role:e.role||e.role_name,firstName:e.firstName||e.given_name,lastName:e.lastName||e.family_name},this.notifyAuthListeners(this.currentUser),this.currentUser):(localStorage.removeItem("authToken"),this.currentUser=null,this.notifyAuthListeners(null),null)}}catch(r){return localStorage.removeItem("authToken"),this.currentUser=null,this.notifyAuthListeners(null),null}}async resetPassword(e){return N.post("/auth/reset-password-request",{email:e})}async setPassword(e,t,r){return N.post("/auth/reset-password",{email:e,token:t,newPassword:r})}async changePassword(e,t){return N.post("/auth/change-password",{currentPassword:e,newPassword:t})}onAuthStateChanged(e){return this.authListeners.push(e),this.currentUser&&e(this.currentUser),()=>{const t=this.authListeners.indexOf(e);t>-1&&this.authListeners.splice(t,1)}}notifyAuthListeners(e){this.authListeners.forEach(t=>{try{t(e)}catch(r){}})}getToken(){return localStorage.getItem("authToken")}isAuthenticated(){return!!this.currentUser&&!!this.getToken()}hasRole(e){return this.currentUser&&this.currentUser.role===e}decodeJWT(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch(t){return null}}isTokenValid(e){if(!e)return!1;try{const t=this.decodeJWT(e);if(!t)return!1;const r=Date.now()/1e3;return!(t.exp&&t.exp<r)}catch(t){return!1}}async testBackendConnection(){try{return await N.get("/health")}catch(e){throw e}}async testAuthEndpoints(){try{return await N.get("/auth/me")}catch(e){return null}}async testJWTToken(){const e=localStorage.getItem("authToken");if(e){return this.decodeJWT(e)}return null}},j=e("auth",()=>{const e=t(null),r=t(null),a=t(null),n=t(null),s=t(null),o=t(!1),i=t(localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));async function l(){try{const t=await P.checkAuthStatus();t?(e.value={id:t.id,email:t.email},r.value=t.role,a.value=t.companyId,n.value=`${t.firstName||""} ${t.lastName||""}`.trim(),s.value=t.email):u()}catch(t){u()}finally{o.value=!0}}function u(){e.value=null,r.value=null,a.value=null,n.value=null,s.value=null}return{user:e,role:r,companyId:a,fullName:n,email:s,isInitialized:o,theme:i,fetchUserProfile:l,clearUser:u,initAuthListener:function(){return l(),void P.onAuthStateChanged(e=>{e?l():(u(),o.value=!0)})},toggleTheme:function(){i.value="dark"===i.value?"light":"dark",localStorage.setItem("theme",i.value)}}}),C=(e,t)=>{const r=e.__vccOpts||e;for(const[a,n]of t)r[a]=n;return r},R={class:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"flex items-center justify-between h-16"},B={class:"flex items-center"},V={class:"hidden md:flex md:items-center md:space-x-2"},q={class:"flex items-center"},H=["aria-label"],$={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},G={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J={key:0,class:"relative"},W={class:"hidden sm:inline"},F={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},K={class:"px-4 py-2 text-xs text-gray-500 border-b"},Y={class:"font-semibold text-gray-700"},Z={class:"ml-2 -mr-2 flex md:hidden"},X={key:0,class:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},Q={key:1,class:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},ee={key:0,class:"md:hidden",id:"mobile-menu"},te={class:"px-2 pt-2 pb-3 space-y-1 sm:px-3"},re=C({__name:"Header",setup(e){const _=j(),A=f(),E=v(),T=t(null),L=t([]),O=t(!1),S=t(!1),M=e=>{const t=document.querySelector(".relative button");!t||t.contains(e.target)||e.target.closest(".origin-top-right")||(O.value=!1)},D=e=>{const t=(e||"").toLowerCase();L.value=t===I.ADMIN||t===I.MANAGER?[{label:"Özet",value:"dashboard",route:"/dashboard"},{label:"Kiracılar",value:"tenants",route:"/tenants"},{label:"Mal Sahipleri",value:"owners",route:"/owners"},{label:"Ödemeler",value:"payments",route:"/payments"},{label:"Giderler",value:"expenses",route:"/expenses"},{label:"Borçlar",value:"utilities",route:"/utilities"},{label:"Üniteler",value:"flats",route:"/flats"},{label:"Raporlar",value:"reports",route:"/reports"}]:t===I.TENANT?[{label:"Özet",value:"dashboard",route:"/dashboard"},{label:"Profilim",value:"profile",route:"/profile"}]:t===I.OWNER?[{label:"Özet",value:"dashboard",route:"/dashboard"},{label:"Mülklerim",value:"my-properties",route:"/my-properties"}]:"viewer"===t?[{label:"Özet",value:"dashboard",route:"/dashboard"},{label:"Raporlar",value:"reports",route:"/reports"}]:[]};r(()=>{document.addEventListener("click",M),(async()=>{try{const e=await P.checkAuthStatus();e?(T.value={firstName:e.firstName||e.name||"Kullanıcı",lastName:e.lastName||"",role:e.role||"Bilinmiyor"},D(e.role)):(T.value=null,L.value=[])}catch(e){T.value=null,L.value=[]}})()}),a(()=>{document.removeEventListener("click",M)}),n(A,()=>{S.value=!1});const N=()=>{O.value=!O.value},C=()=>{S.value=!S.value},re=async()=>{O.value=!1;try{await P.logout(),T.value=null,L.value=[],E.push("/login")}catch(e){T.value=null,L.value=[],E.push("/login")}},ae=async()=>{try{const e=await P.checkAuthStatus();e&&e.email?(await P.resetPassword(e.email),alert("Şifre sıfırlama bağlantısı e-posta adresinize gönderildi.")):alert("Kullanıcı bilgileri bulunamadı.")}catch(e){alert("Bir hata oluştu. Lütfen tekrar deneyin.")}O.value=!1};return(e,t)=>{const r=c("router-link");return y(),s("header",R,[o("div",U,[o("div",z,[o("div",B,[l(r,{to:"/",class:"flex-shrink-0 flex items-center gap-2"},{default:u(()=>t[3]||(t[3]=[o("svg",{class:"h-8 w-auto text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h6M9 11.25h6M9 15.75h6"})],-1),o("span",{class:"text-xl font-semibold font-cormorantSC hidden md:block"},"AKYILDIZ İŞ MERKEZİ",-1)])),_:1,__:[3]})]),o("nav",V,[(y(!0),s(d,null,m(L.value,e=>(y(),w(r,{key:e.value,to:e.route,class:b(["px-3 py-2 rounded-md text-sm font-medium transition-colors",[h(A).path===e.route?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"]])},{default:u(()=>[k(p(e.label),1)]),_:2},1032,["to","class"]))),128))]),o("div",q,[o("button",{onClick:t[0]||(t[0]=(...e)=>h(_).toggleTheme&&h(_).toggleTheme(...e)),class:"ml-4 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition","aria-label":"dark"===h(_).theme?"Açık moda geç":"Karanlık moda geç"},["dark"===h(_).theme?(y(),s("svg",$,t[4]||(t[4]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m8.66-13.66l-.71.71M4.05 19.07l-.71.71M21 12h-1M4 12H3m16.66 5.66l-.71-.71M4.05 4.93l-.71-.71M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(y(),s("svg",G,t[5]||(t[5]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"},null,-1)])))],8,H),T.value?(y(),s("div",J,[o("button",{onClick:N,class:"flex items-center gap-2 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},[t[6]||(t[6]=o("span",{class:"sr-only"},"Kullanıcı menüsünü aç",-1)),o("span",W,p(T.value.firstName),1),t[7]||(t[7]=o("svg",{class:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.5 5.5 0 00-4.52 2.39a.75.75 0 001.33.82a3.5 3.5 0 016.38 0a.75.75 0 001.33-.82A5.5 5.5 0 0010 12z","clip-rule":"evenodd"})],-1))]),l(g,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[O.value?(y(),s("div",F,[o("div",K,[o("p",Y,p(T.value.firstName)+" "+p(T.value.lastName),1),o("p",null,p(T.value.role),1)]),T.value.role.toLowerCase()===h(I).ADMIN?(y(),w(r,{key:0,to:"/admin",class:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:t[1]||(t[1]=e=>O.value=!1)},{default:u(()=>t[8]||(t[8]=[o("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.094c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.894.15c.542.09.94.56.94 1.109v1.094c0 .55-.398 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738a1.125 1.125 0 01-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527a1.125 1.125 0 01-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15a1.125 1.125 0 01-.94-1.11v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 01.12-1.45l.774-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),k(" Sistem Ayarları ")])),_:1,__:[8]})):i("",!0),o("a",{href:"#",onClick:x(ae,["prevent"]),class:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},t[9]||(t[9]=[o("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})],-1),k(" Şifre Değiştir ")])),o("a",{href:"#",onClick:x(re,["prevent"]),class:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},t[10]||(t[10]=[o("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})],-1),k(" Çıkış Yap ")]))])):i("",!0)]),_:1})])):i("",!0),o("div",Z,[o("button",{onClick:C,class:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},[t[13]||(t[13]=o("span",{class:"sr-only"},"Ana menüyü aç",-1)),S.value?(y(),s("svg",Q,t[12]||(t[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(y(),s("svg",X,t[11]||(t[11]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},null,-1)])))])])])])]),S.value?(y(),s("div",ee,[o("div",te,[(y(!0),s(d,null,m(L.value,e=>(y(),w(r,{key:e.value,to:e.route,onClick:t[2]||(t[2]=e=>S.value=!1),class:b(["block px-3 py-2 rounded-md text-base font-medium",[h(A).path===e.route?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"]])},{default:u(()=>[k(p(e.label),1)]),_:2},1032,["to","class"]))),128))])])):i("",!0)])}}},[["__scopeId","data-v-e9ffd3d7"]]),ae={NETWORK:"network",AUTH:"auth",VALIDATION:"validation",PERMISSION:"permission",NOT_FOUND:"not_found",SYSTEM:"system"},ne={[ae.NETWORK]:{title:"Bağlantı Hatası",message:"İnternet bağlantınızı kontrol edin ve tekrar deneyin.",action:"Tekrar Dene"},[ae.AUTH]:{title:"Yetkilendirme Hatası",message:"Bu işlem için yetkiniz bulunmuyor. Lütfen tekrar giriş yapın.",action:"Giriş Yap"},[ae.VALIDATION]:{title:"Geçersiz Veri",message:"Lütfen girdiğiniz bilgileri kontrol edin.",action:"Düzelt"},[ae.PERMISSION]:{title:"Erişim Reddedildi",message:"Bu sayfaya erişim yetkiniz bulunmuyor.",action:"Ana Sayfaya Dön"},[ae.NOT_FOUND]:{title:"Bulunamadı",message:"Aradığınız kayıt bulunamadı.",action:"Geri Dön"},[ae.SYSTEM]:{title:"Sistem Hatası",message:"Beklenmeyen bir hata oluştu. Lütfen daha sonra tekrar deneyin.",action:"Tekrar Dene"}},se={400:"Geçersiz istek gönderildi.",401:"Oturum süresi doldu. Lütfen tekrar giriş yapın.",403:"Bu işlem için yetkiniz bulunmuyor.",404:"Aradığınız kayıt bulunamadı.",409:"Bu kayıt zaten mevcut.",422:"Geçersiz veri gönderildi.",429:"Çok fazla istek gönderildi. Lütfen bir süre bekleyin.",500:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",502:"Sunucu geçici olarak kullanılamıyor.",503:"Servis geçici olarak kullanılamıyor.",504:"Sunucu yanıt vermiyor."};class oe extends Error{constructor(e,t,r=null,a={}){super(t),this.name="AppError",this.type=e,this.originalError=r,this.context=a,this.timestamp=(new Date).toISOString()}getDisplayMessage(){const e=ne[this.type]||{title:"Hata",message:"Beklenmeyen bir hata oluştu.",action:"Tekrar Dene"};return{title:e.title,message:this.message||e.message,action:e.action}}}function ie(e,t,r=null,a={}){return{type:e,message:t,originalError:r,context:a,timestamp:(new Date).toISOString(),id:Math.random().toString(36).substr(2,9)}}function le(e){var t,r,a,n;const s=e=>{if(!e)return null;if(Array.isArray(e)&&e.length)return e.join("\n");if("object"==typeof e){const t=[];for(const r of Object.keys(e)){const a=e[r];Array.isArray(a)?t.push(...a.filter(Boolean)):"string"==typeof a&&a.trim()&&t.push(a)}if(t.length)return t.join("\n")}return null};try{const a=null==(t=null==e?void 0:e.apiError)?void 0:t.data;if(a){const e=s(a.errors);if(e)return e;if("string"==typeof a.errorMessage&&a.errorMessage.trim())return a.errorMessage;if("string"==typeof a&&a.trim())return a;if("string"==typeof a.message&&a.message.trim())return a.message;if("string"==typeof a.title&&a.title.trim())return a.title}const n=null==(r=null==e?void 0:e.response)?void 0:r.data;if(n){if("string"==typeof n&&n.trim())return n;const e=s(n.errors);if(e)return e;if("string"==typeof n.errorMessage&&n.errorMessage.trim())return n.errorMessage;if("string"==typeof n.message&&n.message.trim())return n.message;if("string"==typeof n.title&&n.title.trim())return n.title}}catch(i){}const o=(null==(a=null==e?void 0:e.apiError)?void 0:a.status)||(null==e?void 0:e.status)||(null==(n=null==e?void 0:e.response)?void 0:n.status);return o&&se[o]?se[o]:"string"==typeof(null==e?void 0:e.message)&&e.message.trim()?e.message:"Beklenmeyen bir hata oluştu."}const ue=new class{constructor(){this.errorListeners=[],this.errorHistory=[]}logError(e,t={}){const r=e instanceof oe?e:new oe(function(e){var t,r,a,n;const s=(null==(t=null==e?void 0:e.apiError)?void 0:t.status)||(null==e?void 0:e.status)||(null==(r=null==e?void 0:e.response)?void 0:r.status);if(s){if(401===s)return ae.AUTH;if(403===s)return ae.PERMISSION;if(404===s)return ae.NOT_FOUND;if(400===s||422===s)return ae.VALIDATION;if(s>=500)return ae.SYSTEM;if(s>=400)return ae.VALIDATION}return(null==(a=null==e?void 0:e.message)?void 0:a.toLowerCase().includes("network"))||(null==(n=null==e?void 0:e.message)?void 0:n.toLowerCase().includes("fetch"))?ae.NETWORK:ae.SYSTEM}(e),le(e),e,t);return this.errorHistory.push(r),this.notifyListeners(r),r}addListener(e){"function"==typeof e&&this.errorListeners.push(e)}removeListener(e){this.errorListeners=this.errorListeners.filter(t=>t!==e)}notifyListeners(e){this.errorListeners.forEach(t=>{try{t(e)}catch(r){}})}getErrorHistory(){return this.errorHistory}clearErrorHistory(){this.errorHistory=[]}};window.addEventListener("error",e=>{ue.logError(e.error,{filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("unhandledrejection",e=>{ue.logError(e.reason,{type:"unhandledrejection"})});const ce={class:"flex items-start justify-between"},de={class:"flex items-center gap-3"},me={class:"font-semibold text-gray-900 dark:text-gray-100 text-sm"},he={class:"text-gray-600 dark:text-gray-400 text-sm mt-1"},pe=["onClick"],ge={key:0,class:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},fe=["onClick"],ve=["onClick"],ye={class:"mt-3 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},we={class:"modal-box max-w-2xl"},ke={class:"flex items-center justify-between mb-4"},be={class:"space-y-4"},xe={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},_e={class:"font-semibold text-gray-900 dark:text-gray-100 mb-2"},Ae={class:"text-gray-600 dark:text-gray-400 text-sm"},Ee={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Te={class:"text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-900 p-3 rounded border overflow-x-auto"},Le={key:1,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Oe={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},Se={key:0},Ie={key:1},Me={class:"modal-action"},De=C({__name:"ErrorNotification",setup(e){const a=t([]),n=t(null),c=e=>{const t=a.value.findIndex(t=>t.id===e);-1!==t&&a.value.splice(t,1)},h=e=>{if(["success","info","warning"].includes(e.type))return;const t=ne[e.type]||{title:"Hata",message:"Beklenmeyen bir hata oluştu.",action:"Tekrar Dene"};(e=>{const t=Date.now()+Math.random(),r={id:t,title:e.title||"Hata",message:e.message||"Beklenmeyen bir hata oluştu.",action:e.action,type:e.type,timestamp:e.timestamp,context:e.context,technicalDetails:e.originalError,progress:100};a.value.push(r);const n=setInterval(()=>{-1!==a.value.findIndex(e=>e.id===t)?(r.progress-=2,r.progress<=0&&(c(t),clearInterval(n))):clearInterval(n)},100);setTimeout(()=>{c(t)},5e3)})({title:e.title||t.title,message:e.message||t.message,action:e.action||t.action,type:"error",timestamp:e.timestamp,context:e.context,originalError:e.originalError})};return r(()=>ue.addListener(h)),_(()=>ue.removeListener(h)),(e,t)=>{return y(),s(d,null,[l(A,{name:"error-notification",tag:"div",class:"fixed top-4 right-4 z-50 space-y-2 max-w-md"},{default:u(()=>[(y(!0),s(d,null,m(a.value,e=>(y(),s("div",{key:e.id,class:"bg-white dark:bg-gray-800 border-l-4 border-red-500 shadow-lg rounded-lg p-4 max-w-sm w-full"},[o("div",ce,[o("div",de,[t[3]||(t[3]=o("div",{class:"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 rounded-full p-2"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o("div",null,[o("h4",me,p(e.title),1),o("p",he,p(e.message),1)])]),o("button",{onClick:t=>c(e.id),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200"},t[4]||(t[4]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,pe)]),e.action?(y(),s("div",ge,[o("button",{onClick:t=>(e=>{switch(e.action){case"Tekrar Dene":window.location.reload();break;case"Giriş Yap":window.location.href="/login";break;case"Ana Sayfaya Dön":window.location.href="/dashboard";break;case"Geri Dön":window.history.back()}c(e.id)})(e),class:"text-xs bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 px-3 py-1 rounded-md hover:bg-red-200 dark:hover:bg-red-900/70 transition-colors duration-200"},p(e.action),9,fe),o("button",{onClick:t=>(e=>{n.value=e})(e),class:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200"}," Detaylar ",8,ve)])):i("",!0),o("div",ye,[o("div",{class:"h-full bg-red-500 transition-all duration-300 ease-linear",style:E({width:`${e.progress}%`})},null,4)])]))),128))]),_:1}),n.value?(y(),s("dialog",{key:0,class:"modal modal-open",onClick:t[2]||(t[2]=x(e=>n.value=null,["self"]))},[o("div",we,[o("div",ke,[t[5]||(t[5]=o("h3",{class:"font-bold text-lg text-gray-900 dark:text-gray-100"}," Hata Detayları ",-1)),o("button",{onClick:t[0]||(t[0]=e=>n.value=null),class:"btn btn-sm btn-circle btn-ghost"}," ✕ ")]),o("div",be,[o("div",xe,[o("h4",_e,p(n.value.title),1),o("p",Ae,p(n.value.message),1)]),n.value.technicalDetails?(y(),s("div",Ee,[t[6]||(t[6]=o("h4",{class:"font-semibold text-gray-900 dark:text-gray-100 mb-2"}," Teknik Detaylar ",-1)),o("pre",Te,"            "+p(JSON.stringify(n.value.technicalDetails,null,2))+"\n          ",1)])):i("",!0),n.value.context?(y(),s("div",Le,[t[11]||(t[11]=o("h4",{class:"font-semibold text-gray-900 dark:text-gray-100 mb-2"}," Bağlam Bilgileri ",-1)),o("div",Oe,[o("div",null,[t[7]||(t[7]=o("strong",null,"Zaman:",-1)),k(" "+p((r=n.value.timestamp,new Date(r).toLocaleString("tr-TR"))),1)]),o("div",null,[t[8]||(t[8]=o("strong",null,"Tip:",-1)),k(" "+p(n.value.type),1)]),n.value.context.component?(y(),s("div",Se,[t[9]||(t[9]=o("strong",null,"Bileşen:",-1)),k(" "+p(n.value.context.component),1)])):i("",!0),n.value.context.action?(y(),s("div",Ie,[t[10]||(t[10]=o("strong",null,"İşlem:",-1)),k(" "+p(n.value.context.action),1)])):i("",!0)])])):i("",!0)]),o("div",Me,[o("button",{onClick:t[1]||(t[1]=e=>n.value=null),class:"btn btn-primary btn-sm"}," Kapat ")])])])):i("",!0)],64);var r}}},[["__scopeId","data-v-6f563132"]]),Ne={class:"flex items-start justify-between"},Pe={class:"flex items-center gap-3"},je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ce={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Re={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ue={key:3,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ze={class:"font-semibold text-gray-900 dark:text-gray-100 text-sm"},Be={class:"text-gray-600 dark:text-gray-400 text-sm mt-1"},Ve=["onClick"],qe={class:"mt-3 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},He=C({__name:"SuccessNotification",setup(e){const a=t([]),n=e=>{const t=a.value.findIndex(t=>t.id===e);-1!==t&&a.value.splice(t,1)},i=e=>{const t="bg-white dark:bg-gray-800";switch(e){case"success":default:return`${t} border-l-4 border-green-500`;case"info":return`${t} border-l-4 border-blue-500`;case"warning":return`${t} border-l-4 border-yellow-500`}},l=e=>{switch(e){case"success":default:return"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400";case"info":return"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400";case"warning":return"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-600 dark:text-yellow-400"}},c=e=>{switch(e){case"success":default:return"bg-green-500";case"info":return"bg-blue-500";case"warning":return"bg-yellow-500"}},h=e=>{if("success"===e.type||"info"===e.type||"warning"===e.type){(e=>{const t=Date.now()+Math.random(),r={id:t,title:e.title||"Başarılı",message:e.message||"İşlem başarıyla tamamlandı.",type:e.type,timestamp:e.timestamp,context:e.context,progress:100};a.value.push(r);const s=setInterval(()=>{-1!==a.value.findIndex(e=>e.id===t)?(r.progress-=2,r.progress<=0&&(n(t),clearInterval(s))):clearInterval(s)},100),o="success"===e.type?3e3:5e3;setTimeout(()=>{n(t)},o)})({...e.getDisplayMessage(),type:e.type,timestamp:e.timestamp,context:e.context})}};return r(()=>{ue.addListener(h)}),_(()=>{}),(e,t)=>(y(),w(A,{name:"success-notification",tag:"div",class:"fixed top-4 right-4 z-50 space-y-2 max-w-md"},{default:u(()=>[(y(!0),s(d,null,m(a.value,e=>(y(),s("div",{key:e.id,class:b([i(e.type),"shadow-lg rounded-lg p-4 max-w-sm w-full"])},[o("div",Ne,[o("div",Pe,[o("div",{class:b([l(e.type),"rounded-full p-2"])},["success"===e.type?(y(),s("svg",je,t[0]||(t[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):"info"===e.type?(y(),s("svg",Ce,t[1]||(t[1]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):"warning"===e.type?(y(),s("svg",Re,t[2]||(t[2]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)]))):(y(),s("svg",Ue,t[3]||(t[3]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],2),o("div",null,[o("h4",ze,p(e.title),1),o("p",Be,p(e.message),1)])]),o("button",{onClick:t=>n(e.id),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200"},t[4]||(t[4]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ve)]),o("div",qe,[o("div",{class:b([c(e.type),"h-full transition-all duration-300 ease-linear"]),style:E({width:`${e.progress}%`})},null,6)])],2))),128))]),_:1}))}},[["__scopeId","data-v-d9698972"]]),$e=["data-theme"],Ge={key:1,class:"min-h-screen bg-base-200"},Je={class:"max-w-6xl mx-auto bg-base-100 shadow-lg rounded-xl overflow-hidden"},We={__name:"App",setup(e){const t=f(),a=j();return r(()=>{a.initAuthListener()}),n(()=>a.theme,e=>{"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0}),(e,r)=>{const n=c("router-view");return y(),s("div",{"data-theme":h(a).theme,class:"min-h-screen"},[h(t).meta.hideLayout?(y(),w(n,{key:0})):(y(),s("div",Ge,[l(re),o("div",Je,[l(n,{class:"p-6"})])])),l(De),l(He)],8,$e)}}},Fe={},Ke=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Fe)return;Fe[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,r&&n.setAttribute("nonce",r),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},Ye=()=>Ke(()=>import("./TenantDetailPage-DK1Lao-V.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),Ze=()=>Ke(()=>import("./OwnerDues-BhGAX8JH.js"),__vite__mapDeps([11,1])),Xe=[{path:"/",name:"Landing",component:()=>Ke(()=>import("./LandingPage-DxnKebm0.js"),__vite__mapDeps([12,1,13])),meta:{public:!0,hideLayout:!0}},{path:"/dashboard",name:"Dashboard",component:()=>Ke(()=>import("./Dashboard-ie5FegSg.js"),__vite__mapDeps([14,1,3,15,4,16,17,5,18,10])),meta:{requiresAuth:!0,roles:["admin","manager","viewer","tenant"]}},{path:"/tenants",name:"Tenants",component:()=>Ke(()=>import("./Tenants-BTQ-Z8aK.js"),__vite__mapDeps([19,1,9,20,21])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/tenants/:id",name:"TenantDetailPage",component:Ye,meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/payments",name:"Payments",component:()=>Ke(()=>import("./Payments-CC0EIi7_.js"),__vite__mapDeps([22,1,3,17,5,10,23,2,4,6,7,8,20,9])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/expenses",name:"Expenses",component:()=>Ke(()=>import("./Expenses-CyGkSiBA.js"),__vite__mapDeps([24,1,15,23,10,6])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/utilities",name:"Utilities",component:()=>Ke(()=>import("./Utilities-9d0x7mHd.js"),__vite__mapDeps([25,26,1,27,10,18,5])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/flats",name:"Flats",component:()=>Ke(()=>import("./Flats-D2x_mUMa.js"),__vite__mapDeps([28,1])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/reports",name:"Reports",component:()=>Ke(()=>import("./ReportsView-vKBSBE7d.js").then(e=>e.R),__vite__mapDeps([29,1,4,17,5,3,7,30])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/admin",name:"Admin",component:()=>Ke(()=>import("./AdminDashboard-vfXOaW_f.js"),__vite__mapDeps([31,1,27,4,32,16,10,33,34,17,21,26])),meta:{requiresAuth:!0,roles:["admin"]}},{path:"/profile",name:"Profile",component:Ye,meta:{requiresAuth:!0,roles:["tenant"]}},{path:"/login",name:"Login",component:()=>Ke(()=>import("./LoginView-Dd0thhMJ.js"),__vite__mapDeps([35,1,10,36])),meta:{public:!0,hideLayout:!0}},{path:"/set-password",name:"SetPassword",component:()=>Ke(()=>import("./SetPasswordView-C6xTfk-h.js"),__vite__mapDeps([37,1])),meta:{public:!0,hideLayout:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>Ke(()=>import("./NotFound-DDpJmwEW.js"),__vite__mapDeps([38,1]))},{path:"/transactions",name:"Transactions",component:()=>Ke(()=>import("./Transactions-hzVUVroI.js"),__vite__mapDeps([39,1])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/overdue",name:"Overdue",component:()=>Ke(()=>import("./Overdue-F4an2M8X.js"),__vite__mapDeps([40,1])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/owner-dues",name:"OwnerDues",component:()=>Ke(()=>import("./OwnerDuesPanel-BkdOblHj.js"),__vite__mapDeps([32,1,16,4,10,33])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/owners",name:"Owners",component:()=>Ke(()=>import("./Owners-Bg5Al9RC.js"),__vite__mapDeps([34,17,4,10,21,1,26,33])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/owner-dues-list",name:"OwnerDuesList",component:Ze,meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/OwnerDues",name:"OwnerDuesPage",component:Ze,meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/owner-payments",name:"OwnerPayments",component:()=>Ke(()=>import("./OwnerPayments-e0Qsd10n.js"),__vite__mapDeps([41,1])),meta:{requiresAuth:!0,roles:["admin","manager"]}},{path:"/overdue-owner-payments",name:"OverdueOwnerPayments",component:()=>Ke(()=>import("./OverdueOwnerPayments-BQ5O-q25.js"),__vite__mapDeps([42,1])),meta:{requiresAuth:!0,roles:["admin","manager"]}}],Qe=T({history:L(),routes:Xe});Qe.beforeEach(async(e,t,r)=>{const a=e.meta.requiresAuth,n=e.meta.public;if("/login"===e.path&&("/login"===t.path||!a))return r();if(n)return r();{const t=await P.checkAuthStatus();if(!t&&a)return"/login"!==e.path?r("/login"):r();if(t&&e.meta.roles){const a=(t.role||"").toLowerCase();if(!e.meta.roles.map(e=>e.toLowerCase()).includes(a))return"/dashboard"!==e.path?r("/dashboard"):r()}if(t&&"/login"===e.path){let a="/dashboard";return"admin"===t.role?a="/admin":"manager"===t.role?a="/dashboard":"viewer"===t.role?a="/overdue":"tenant"===t.role&&(a="/profile"),e.path!==a?r(a):r()}return r()}});var et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rt={exports:{}},at=rt.exports=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,r){function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var n=r(2),s=r(0),o=r.n(s);t.a=function(e,t){var s=t.value;if((Array.isArray(s)||"string"==typeof s)&&(s={mask:s,tokens:o.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var i=e.getElementsByTagName("input");if(1!==i.length)throw new Error("v-mask directive requires 1 input, found "+i.length);e=i[0]}e.oninput=function(t){if(t.isTrusted){var o=e.selectionEnd,i=e.value[o-1];for(e.value=r.i(n.a)(e.value,s.mask,!0,s.tokens);o<e.value.length&&e.value.charAt(o-1)!==i;)o++;e===document.activeElement&&(e.setSelectionRange(o,o),setTimeout(function(){e.setSelectionRange(o,o)},0)),e.dispatchEvent(a("input"))}};var l=r.i(n.a)(e.value,s.mask,!0,s.tokens);l!==e.value&&(e.value=l,e.dispatchEvent(a("input")))}},function(e,t,r){var a=r(6),n=r(5);t.a=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments[3];return Array.isArray(t)?r.i(n.a)(a.a,t,o)(e,t,s,o):r.i(a.a)(e,t,s,o)}},function(e,t,r){function a(e){e.component(l.a.name,l.a),e.directive("mask",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),s=r.n(n),o=r(1),i=r(7),l=r.n(i);r.d(t,"TheMask",function(){return l.a}),r.d(t,"mask",function(){return o.a}),r.d(t,"tokens",function(){return s.a}),r.d(t,"version",function(){return u});var u="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(0),s=r.n(n),o=r(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return s.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e,(e=r.i(o.a)(e,this.mask,this.masked,this.tokens))!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,r){function a(e,t,r){return t=t.sort(function(e,t){return e.length-t.length}),function(a,n){for(var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=0;o<t.length;){var i=t[o];o++;var l=t[o];if(!(l&&e(a,l,!0,r).length>i.length))return e(a,i,s,r)}return""}}t.a=a},function(e,t,r){function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var n=0,s=0,o="";n<t.length&&s<e.length;){var i=a[c=t[n]],l=e[s];i&&!i.escape?(i.pattern.test(l)&&(o+=i.transform?i.transform(l):l,n++),s++):(i&&i.escape&&(c=t[++n]),r&&(o+=c),l===c&&s++,n++)}for(var u="";n<t.length&&r;){var c;if(a[c=t[n]]){u="";break}u+=c,n++}return o+u}t.a=a},function(e,t,r){var a=r(8)(r(4),r(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,r,a){var n,s=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(n=e,s=e.default);var i="function"==typeof s?s.options:s;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),r&&(i._scopeId=r),a){var l=i.computed||(i.computed={});Object.keys(a).forEach(function(e){var t=a[e];l[e]=function(){return t}})}return{esModule:n,exports:s,options:i}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,r){e.exports=r(3)}]);const nt=O(We),st=S();nt.use(st),nt.use(Qe),nt.directive("mask",at.mask),nt.mount("#app");export{ae as E,I as R,C as _,N as a,M as b,P as c,ie as d,ue as e,Ke as f,le as g,et as h,tt as i,j as u};
