import{u as r,p as e}from"./index-CZWRhATJ.js";import{r as a,o as t,b as s,e as i,t as l,u as d,E as o,j as n,q as g,m as b}from"./vue-vendor-Ozfyq2CR.js";import"./utils-vendor-Cy2sLATb.js";const u={class:"profile-view max-w-4xl mx-auto pb-20 md:pb-6"},c={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},x={class:"md:col-span-1"},m={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 text-center"},y={class:"text-lg font-bold text-gray-900 dark:text-white"},v={class:"text-sm text-gray-500 mb-4"},f={class:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full text-xs font-semibold uppercase tracking-wider"},k={class:"md:col-span-2 space-y-6"},w={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},h={class:"p-6"},p={class:"flex items-center justify-between"},j={class:"flex items-center"},z=["disabled"],B={key:0,class:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-lg flex gap-3"},M={__name:"ProfileView",setup(M){const C=r(),P=a(!1),A=a(!1),G=a("default");t(async()=>{G.value=e.getPermission(),P.value=await e.isSubscribed()});const L=async()=>{if(!A.value){A.value=!0;try{if(P.value)await e.unsubscribeUser(),P.value=!1;else{const r=await e.requestPermission();G.value=r,"granted"===r&&(await e.subscribeUser(),P.value=!0)}}catch(r){}finally{A.value=!1}}},V=r=>{if(!r)return"";return{admin:"Yönetici",manager:"Müdür",tenant:"Kiracı",owner:"Mal Sahibi",observer:"Gözlemci",dataentry:"Veri Girişi"}[r.toLowerCase()]||r};return(r,e)=>(b(),s("div",u,[e[5]||(e[5]=i("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Profil Ayarları",-1)),i("div",c,[i("div",x,[i("div",m,[e[0]||(e[0]=i("div",{class:"w-24 h-24 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600 dark:text-blue-400"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),i("h2",y,l(d(C).fullName||"Kullanıcı"),1),i("p",v,l(d(C).email),1),i("span",f,l(V(d(C).role)),1)])]),i("div",k,[i("div",w,[e[3]||(e[3]=i("div",{class:"px-6 py-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50"},[i("h3",{class:"font-bold text-gray-900 dark:text-white"},"Bildirim Ayarları")],-1)),i("div",h,[i("div",p,[e[1]||(e[1]=i("div",null,[i("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Anlık Bildirimler"),i("p",{class:"text-xs text-gray-500 mt-1"},"Borç, tahsilat ve duyurular hakkında tarayıcı bildirimi al.")],-1)),i("div",j,[i("button",{onClick:L,disabled:A.value,class:g(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",P.value?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"])},[i("span",{class:g(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",P.value?"translate-x-6":"translate-x-1"])},null,2)],10,z)])]),"denied"===G.value?(b(),s("div",B,e[2]||(e[2]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),i("p",{class:"text-xs text-red-700 dark:text-red-400"},' Tarayıcı bildirim izni reddedilmiş. Bildirim almak için tarayıcı ayarlarından izni "İzin Ver" olarak değiştirmeniz gerekmektedir. ',-1)]))):n("",!0)])]),e[4]||(e[4]=o('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"><div class="px-6 py-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50"><h3 class="font-bold text-gray-900 dark:text-white">Güvenlik</h3></div><div class="p-6"><button class="w-full md:w-auto px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition"> Şifre Değiştir </button></div></div>',1))])])]))}};export{M as default};
