import{c as r,i as t,h as n,E as e}from"./index-ChpY04z8.js";function o(){const{showError:o,showSuccess:a}=r(),s=(r,a={})=>{var s,l;const i=(null==(s=null==r?void 0:r.apiError)?void 0:s.status)||(null==r?void 0:r.status)||(null==(l=null==r?void 0:r.response)?void 0:l.status),u=n(r);let h=e.SYSTEM;400===i||422===i?h=e.VALIDATION:401===i?h=e.AUTH:403===i?h=e.PERMISSION:404===i?h=e.NOT_FOUND:i>=500?h=e.SYSTEM:i||(h=e.NETWORK);const c=t(h,u,r,a);o(c)},l=(r,n={})=>{const a="string"==typeof r?r:(null==r?void 0:r.message)||"Geçersiz veri gönderildi.",s=t(e.VALIDATION,a,r,n);o(s)};return{handleNetworkError:s,handleValidationError:l,handleAuthError:(r,a={})=>{const s=n(r),l=t(e.AUTH,s,r,a);o(l)},handleGenericError:(r,n="Beklenmeyen bir hata oluştu.",a={})=>{const s=t(e.SYSTEM,n,r,a);o(s)},showSuccess:a,showError:o,withErrorHandling:async(r,t={})=>{try{return await r()}catch(n){throw s(n,t),n}},validateForm:(r,t)=>{const n=[];for(const[e,o]of Object.entries(t)){const t=r[e];if(!o.required||t&&""!==t.toString().trim()||n.push(`${o.label||e} alanı zorunludur.`),o.minLength&&t&&t.length<o.minLength&&n.push(`${o.label||e} en az ${o.minLength} karakter olmalıdır.`),o.maxLength&&t&&t.length>o.maxLength&&n.push(`${o.label||e} en fazla ${o.maxLength} karakter olmalıdır.`),o.pattern&&t&&!o.pattern.test(t)&&n.push(`${o.label||e} geçerli bir formatta değil.`),o.custom&&t){const e=o.custom(t,r);e&&n.push(e)}}return!(n.length>0)||(l(n.join("\n"),{component:"Form",action:"validation"}),!1)}}}export{o as u};
