import{e,d as a,E as r}from"./index-ErXur627.js";function n(){const a=(a,r={})=>{e.logSuccess("success",a,r)};return{showError:(a,r={})=>{e.logError("error",a,r)},showSuccess:a,showInfo:(a,r={})=>{e.logSuccess("info",a,r)},showWarning:(a,r={})=>{e.logSuccess("warning",a,r)},showCreateSuccess:e=>{a(`${e} başarıyla oluşturuldu.`,{action:"create"})},showUpdateSuccess:e=>{a(`${e} başarıyla güncellendi.`,{action:"update"})},showDeleteSuccess:e=>{a(`${e} başarıyla silindi.`,{action:"delete"})},showSaveSuccess:e=>{a(`${e} başarıyla kaydedildi.`,{action:"save"})},showImportSuccess:e=>{a(`${e} kayıt başarıyla içe aktarıldı.`,{action:"import"})},showExportSuccess:e=>{a(`${e} başarıyla dışa aktarıldı.`,{action:"export"})}}}function s(){const{showError:e,showSuccess:s}=n(),t=(n,s={})=>{var t,o,l,i,u;let c=r.NETWORK,d="Bağlantı hatası oluştu.";401===(null==(t=null==n?void 0:n.response)?void 0:t.status)?(c=r.AUTH,d="Oturum süresi doldu. Lütfen tekrar giriş yapın."):403===(null==(o=null==n?void 0:n.response)?void 0:o.status)?(c=r.PERMISSION,d="Bu işlem için yetkiniz bulunmuyor."):404===(null==(l=null==n?void 0:n.response)?void 0:l.status)?(c=r.NOT_FOUND,d="Aradığınız kayıt bulunamadı."):422===(null==(i=null==n?void 0:n.response)?void 0:i.status)?(c=r.VALIDATION,d="Geçersiz veri gönderildi."):(null==(u=null==n?void 0:n.response)?void 0:u.status)>=500&&(c=r.SYSTEM,d="Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.");const h=a(c,d,n,s);e(h)},o=(n,s={})=>{const t=(null==n?void 0:n.message)||"Geçersiz veri gönderildi.",o=a(r.VALIDATION,t,n,s);e(o)};return{handleNetworkError:t,handleValidationError:o,handleAuthError:(n,s={})=>{var t,o;let l="Kimlik doğrulama hatası.";401===(null==(t=null==n?void 0:n.response)?void 0:t.status)?l="Geçersiz kimlik bilgileri.":403===(null==(o=null==n?void 0:n.response)?void 0:o.status)&&(l="Bu işlem için yetkiniz bulunmuyor.");const i=a(r.AUTH,l,n,s);e(i)},handleGenericError:(n,s="Beklenmeyen bir hata oluştu.",t={})=>{const o=a(r.SYSTEM,s,n,t);e(o)},showSuccess:s,showError:e,withErrorHandling:async(e,a={})=>{try{return await e()}catch(r){throw t(r,a),r}},validateForm:(e,a)=>{const r=[];for(const[n,s]of Object.entries(a)){const a=e[n];if(!s.required||a&&""!==a.toString().trim()||r.push(`${s.label||n} alanı zorunludur.`),s.minLength&&a&&a.length<s.minLength&&r.push(`${s.label||n} en az ${s.minLength} karakter olmalıdır.`),s.maxLength&&a&&a.length>s.maxLength&&r.push(`${s.label||n} en fazla ${s.maxLength} karakter olmalıdır.`),s.pattern&&a&&!s.pattern.test(a)&&r.push(`${s.label||n} geçerli bir formatta değil.`),s.custom&&a){const n=s.custom(a,e);n&&r.push(n)}}return!(r.length>0)||(o(r.join(" "),{component:"Form",action:"validation"}),!1)}}}export{n as a,s as u};
