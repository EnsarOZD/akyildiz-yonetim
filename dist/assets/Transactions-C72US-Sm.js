import{r as e,C as a,o as t,c as r,b as l,t as s,D as d,E as n,H as o,F as i,i as g,J as u,l as c,p as x,e as y}from"./vue-vendor-BE3w9SvD.js";import{a as p}from"./index-CAkTsZV-.js";const b={class:"p-4 sm:p-6 bg-gray-50 min-h-screen font-sans dark:bg-gray-900"},m={class:"max-w-7xl mx-auto"},v={class:"flex items-center justify-between mb-6"},k={class:"flex items-center gap-4"},h={class:"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400 px-3 py-1 rounded-full text-sm"},w={class:"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 px-3 py-1 rounded-full text-sm"},f={class:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm"},M={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md border border-gray-200 dark:border-gray-700 mb-8"},T={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},j={class:"form-control"},B={class:"form-control"},G={class:"form-control"},V={class:"form-control"},C={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md border border-gray-200 dark:border-gray-700"},D={class:"flex items-center justify-between mb-6"},N={class:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium"},H={key:0,class:"space-y-3"},L={class:"flex items-center gap-4"},U={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},R={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},S={class:"font-semibold text-gray-800 dark:text-gray-100"},z={class:"text-sm text-gray-500 dark:text-gray-400"},A={key:0,class:"text-xs text-gray-400 dark:text-gray-500"},F={class:"text-right"},_={key:1,class:"text-center py-12"},E={__name:"Transactions",setup(E){const I=e([]),J=e([]),Y=e([]),q=e(""),K=e(""),O=e(""),P=e(""),Q=e=>null==e||isNaN(e)?"₺0.00":Number(e).toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),W=a(()=>[...J.value,...Y.value].sort((e,a)=>new Date(a.date)-new Date(e.date))),X=a(()=>J.value.reduce((e,a)=>e+Number(a.amount||0),0)),Z=a(()=>Y.value.reduce((e,a)=>e+Number(a.amount||0),0)),$=a(()=>W.value.length),ee=a(()=>W.value.filter(e=>{var a;const t=!q.value||e.type===q.value,r=!K.value||e.date>=K.value,l=!O.value||e.date<=O.value,s=!P.value||(null==(a=e.description)?void 0:a.toLowerCase().includes(P.value.toLowerCase()));return t&&r&&l&&s}));return t(()=>{(async()=>{try{const e=await p.get("/tenants");I.value=e||[]}catch(e){I.value=[]}})().then(()=>(async()=>{try{const e=await p.get("/payments");J.value=(e||[]).map(e=>{const a=I.value.find(a=>a.id===e.tenantId);return{...e,type:"income",payer:(null==a?void 0:a.company)||"Bilinmiyor"}});const a=await p.get("/expenses");Y.value=(a||[]).map(e=>({...e,type:"expense"}))}catch(e){J.value=[],Y.value=[]}})())}),(e,a)=>(c(),r("div",b,[l("div",m,[l("div",v,[a[4]||(a[4]=l("h1",{class:"text-3xl font-bold text-gray-800 dark:text-gray-100"},"Tüm İşlemler",-1)),l("div",k,[l("div",h," Toplam Gelir: "+s(Q(X.value)),1),l("div",w," Toplam Gider: "+s(Q(Z.value)),1),l("div",f,s($.value)+" işlem ",1)])]),l("section",M,[a[10]||(a[10]=l("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4"},"Filtreler",-1)),l("div",T,[l("div",j,[a[6]||(a[6]=l("label",{class:"label"},[l("span",{class:"label-text text-gray-700 dark:text-gray-300"},"İşlem Tipi")],-1)),d(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),class:"select select-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"},a[5]||(a[5]=[l("option",{value:""},"Tüm Tipler",-1),l("option",{value:"income"},"Gelir",-1),l("option",{value:"expense"},"Gider",-1)]),512),[[n,q.value]])]),l("div",B,[a[7]||(a[7]=l("label",{class:"label"},[l("span",{class:"label-text text-gray-700 dark:text-gray-300"},"Başlangıç Tarihi")],-1)),d(l("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=e=>K.value=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"},null,512),[[o,K.value]])]),l("div",G,[a[8]||(a[8]=l("label",{class:"label"},[l("span",{class:"label-text text-gray-700 dark:text-gray-300"},"Bitiş Tarihi")],-1)),d(l("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=e=>O.value=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"},null,512),[[o,O.value]])]),l("div",V,[a[9]||(a[9]=l("label",{class:"label"},[l("span",{class:"label-text text-gray-700 dark:text-gray-300"},"Arama")],-1)),d(l("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>P.value=e),placeholder:"Açıklama ara...",class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"},null,512),[[o,P.value]])])])]),l("section",C,[l("div",D,[a[11]||(a[11]=l("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-100"},"İşlem Geçmişi",-1)),l("div",N,s(ee.value.length)+" işlem ",1)]),ee.value.length>0?(c(),r("div",H,[(c(!0),r(i,null,g(ee.value,(e,t)=>{return c(),r("div",{key:t,class:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},[l("div",L,[l("div",{class:x([{"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":"income"===e.type,"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400":"expense"===e.type},"rounded-full p-3"])},["income"===e.type?(c(),r("svg",U,a[12]||(a[12]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"},null,-1)]))):(c(),r("svg",R,a[13]||(a[13]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])))],2),l("div",null,[l("p",S,s(e.payer||e.description||"İşlem"),1),l("p",z,s((d=e.date,d?new Date(d).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric"}):"-")),1),e.bank?(c(),r("p",A,s(e.bank),1)):y("",!0)])]),l("div",F,[l("p",{class:x([{"text-green-600 dark:text-green-400":"income"===e.type,"text-red-600 dark:text-red-400":"expense"===e.type},"font-bold text-lg"])},s("income"===e.type?"+":"-")+s(Q(e.amount)),3),l("p",{class:x([{"text-green-500 dark:text-green-400":"income"===e.type,"text-red-500 dark:text-red-400":"expense"===e.type},"text-sm font-medium"])},s("income"===e.type?"Gelir":"Gider"),3)])]);var d}),128))])):(c(),r("div",_,a[14]||(a[14]=[u('<div class="bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-full p-4 w-fit mx-auto mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">İşlem Bulunamadı</h3><p class="text-gray-500 dark:text-gray-400">Seçilen kriterlere uygun işlem bulunmuyor.</p>',3)])))])])]))}};export{E as default};
