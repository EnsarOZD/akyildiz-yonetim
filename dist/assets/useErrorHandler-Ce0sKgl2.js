import{e as r,f as a,g as e,E as t}from"./index-SuSpVQ5E.js";function o(){const a=(a,e={})=>{r.logSuccess("success",a,e)};return{showError:(a,e={})=>{r.logError("error",a,e)},showSuccess:a,showInfo:(a,e={})=>{r.logSuccess("info",a,e)},showWarning:(a,e={})=>{r.logSuccess("warning",a,e)},showCreateSuccess:r=>{a(`${r} başarıyla oluşturuldu.`,{action:"create"})},showUpdateSuccess:r=>{a(`${r} başarıyla güncellendi.`,{action:"update"})},showDeleteSuccess:r=>{a(`${r} başarıyla silindi.`,{action:"delete"})},showSaveSuccess:r=>{a(`${r} başarıyla kaydedildi.`,{action:"save"})},showImportSuccess:r=>{a(`${r} kayıt başarıyla içe aktarıldı.`,{action:"import"})},showExportSuccess:r=>{a(`${r} başarıyla dışa aktarıldı.`,{action:"export"})}}}function s(){const{showError:r,showSuccess:s}=o(),n=(o,s={})=>{var n,l;const c=(null==(n=null==o?void 0:o.apiError)?void 0:n.status)||(null==o?void 0:o.status)||(null==(l=null==o?void 0:o.response)?void 0:l.status),i=e(o);let u=t.SYSTEM;400===c||422===c?u=t.VALIDATION:401===c?u=t.AUTH:403===c?u=t.PERMISSION:404===c?u=t.NOT_FOUND:c>=500?u=t.SYSTEM:c||(u=t.NETWORK);const h=a(u,i,o,s);r(h)},l=(e,o={})=>{const s="string"==typeof e?e:(null==e?void 0:e.message)||"Geçersiz veri gönderildi.",n=a(t.VALIDATION,s,e,o);r(n)};return{handleNetworkError:n,handleValidationError:l,handleAuthError:(o,s={})=>{const n=e(o),l=a(t.AUTH,n,o,s);r(l)},handleGenericError:(e,o="Beklenmeyen bir hata oluştu.",s={})=>{const n=a(t.SYSTEM,o,e,s);r(n)},showSuccess:s,showError:r,withErrorHandling:async(r,a={})=>{try{return await r()}catch(e){throw n(e,a),e}},validateForm:(r,a)=>{const e=[];for(const[t,o]of Object.entries(a)){const a=r[t];if(!o.required||a&&""!==a.toString().trim()||e.push(`${o.label||t} alanı zorunludur.`),o.minLength&&a&&a.length<o.minLength&&e.push(`${o.label||t} en az ${o.minLength} karakter olmalıdır.`),o.maxLength&&a&&a.length>o.maxLength&&e.push(`${o.label||t} en fazla ${o.maxLength} karakter olmalıdır.`),o.pattern&&a&&!o.pattern.test(a)&&e.push(`${o.label||t} geçerli bir formatta değil.`),o.custom&&a){const t=o.custom(a,r);t&&e.push(t)}}return!(e.length>0)||(l(e.join("\n"),{component:"Form",action:"validation"}),!1)}}}export{o as a,s as u};
