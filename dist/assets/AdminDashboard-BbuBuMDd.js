import{r as e,C as a,o as l,c as t,l as s,b as i,q as n,D as r,H as o,E as c,F as d,i as u,t as v,e as m,L as b,n as p,p as y,u as g,J as f,m as h,f as k,M as w}from"./vue-vendor-BE3w9SvD.js";import{a as x}from"./aidatService-B1kcwMFg.js";import{t as A}from"./tenantsService-DcFCN9jj.js";import{a as N,R as C,b as U}from"./index-CAkTsZV-.js";import{u as K}from"./useErrorHandler-CQcR_3b6.js";import T from"./OwnerDuesPanel-WcIAf1Fj.js";import S from"./Owners-AsvSc9L6.js";import"./useNotification-Dv4wKXE4.js";import"./units-DJG6lNYB.js";import"./ConfirmDeleteModal-B9VWRTw-.js";import"./FilterBar-wXoQM61V.js";const j={class:"space-y-6"},D={class:"card bg-base-100 shadow-xl"},M={class:"card-body"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},V={class:"form-control"},B={class:"form-control"},F=["value"],Y={class:"form-control"},I=["disabled"],L=["value"],E={class:"form-control"},H=["value"],q={class:"form-control"},R=["value"],_={class:"card-actions justify-end"},P=["disabled"],O={class:"card bg-base-100 shadow-xl"},$={class:"card-body"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},J={class:"form-control"},Q=["value"],W={class:"form-control"},X=["value"],Z={class:"form-control"},ee=["value"],ae={class:"form-control"},le={class:"overflow-x-auto"},te={class:"table w-full"},se={class:"badge badge-ghost"},ie={class:"font-medium"},ne={class:"font-bold text-success"},re={class:"text-right"},oe=["onClick"],ce=["onClick"],de={key:0,class:"text-center py-10 text-base-content/60"},ue={key:1,class:"stats stats-horizontal shadow mt-4"},ve={class:"stat"},me={class:"stat-value text-primary"},be={class:"stat"},pe={class:"stat-value text-success"},ye={__name:"AidatPanel",setup(b){const p=e([]),y=e(""),g=e(""),f=e((new Date).getFullYear()),h=e(""),k=e([]),w=e(null),N=e(""),C=e(""),U=e(""),K=e(""),T=e=>!e||isNaN(e)?"₺0.00":Number(e).toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),S=()=>{const e=h.value.replace(/\./g,"").replace(",",".");return parseFloat(e)||0},ye=a(()=>{const e=S();return e?(1.2*e).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})+" ₺":"0.00 ₺"}),ge=e=>{let a=e.target.value;a=a.replace(/[^0-9,.]/g,"");const l=a.split(/[.,]/);l.length>2&&(a=l[0]+","+l.slice(1).join("")),h.value=a},fe=a(()=>{const e=p.value.find(e=>e.id===y.value);return e&&e.units||[]}),he=a(()=>y.value&&g.value&&S()>0&&f.value>=2020),ke=a(()=>[...new Set(k.value.map(e=>e.year))].sort((e,a)=>a-e)),we=a(()=>[...new Set(k.value.map(e=>e.unit))].sort()),xe=a(()=>{let e=k.value;if(N.value&&(e=e.filter(e=>e.year===N.value)),C.value&&(e=e.filter(e=>e.company===C.value)),U.value&&(e=e.filter(e=>e.unit===U.value)),K.value){const a=K.value.toLowerCase();e=e.filter(e=>e.company.toLowerCase().includes(a)||e.unit.toLowerCase().includes(a))}return e.sort((e,a)=>a.year-e.year||e.company.localeCompare(a.company))}),Ae=a(()=>xe.value.reduce((e,a)=>e+(a.vatIncludedAmount||1.2*a.amount),0)),Ne=async()=>{try{const e=await x.getAidatDefinitions();k.value=e||[]}catch(e){k.value=[]}},Ce=()=>{y.value="",g.value="",h.value="",f.value=(new Date).getFullYear(),w.value=null},Ue=async()=>{const e=S();if(!he.value)return void alert("Lütfen tüm alanları eksiksiz doldurun.");const a=parseFloat((1.2*e).toFixed(2)),l={tenantId:y.value,unit:g.value,year:f.value,amount:e,vatIncludedAmount:a};try{if(w.value)await x.updateAidatDefinition(w.value,l),alert("Aidat güncellendi.");else{if(k.value.find(e=>e.year===f.value&&e.tenantId===y.value&&e.unit===g.value))return void alert("Bu şirketin bu katı için bu yıl zaten aidat tanımlanmış.");await x.createAidatDefinition(l),alert("Aidat kaydı eklendi.")}}catch(t){alert("Bir hata oluştu.")}Ce(),await Ne()};return l(async()=>{try{const e=await A.getTenants();p.value=e||[],await Ne()}catch(e){p.value=[]}}),(e,a)=>(s(),t("div",j,[a[26]||(a[26]=i("div",{class:"text-center"},[i("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Yıllık Aidat Yönetimi"),i("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"Kiracılar için yıllık aidat tutarlarını tanımlayın ve yönetin")],-1)),i("div",D,[i("div",M,[a[14]||(a[14]=i("h3",{class:"card-title"},"Yeni Aidat Tanımlama",-1)),i("form",{onSubmit:n(Ue,["prevent"]),class:"space-y-4"},[i("div",z,[i("div",V,[a[7]||(a[7]=i("label",{class:"label"},[i("span",{class:"label-text"},"Yıl")],-1)),r(i("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),class:"input input-bordered w-full",min:"2020"},null,512),[[o,f.value,void 0,{number:!0}]])]),i("div",B,[a[9]||(a[9]=i("label",{class:"label"},[i("span",{class:"label-text"},"Şirket")],-1)),r(i("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),class:"select select-bordered w-full"},[a[8]||(a[8]=i("option",{disabled:"",value:""},"Seçiniz",-1)),(s(!0),t(d,null,u(p.value,e=>(s(),t("option",{key:e.id,value:e.id},v(e.company),9,F))),128))],512),[[c,y.value]])]),i("div",Y,[a[11]||(a[11]=i("label",{class:"label"},[i("span",{class:"label-text"},"Kat")],-1)),r(i("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),class:"select select-bordered w-full",disabled:!y.value},[a[10]||(a[10]=i("option",{disabled:"",value:""},"Seçiniz",-1)),(s(!0),t(d,null,u(fe.value,e=>(s(),t("option",{key:e,value:e},v(e),9,L))),128))],8,I),[[c,g.value]])]),i("div",E,[a[12]||(a[12]=i("label",{class:"label"},[i("span",{class:"label-text"},"Aidat (KDV Hariç)")],-1)),i("input",{value:h.value,onInput:ge,class:"input input-bordered w-full",inputmode:"numeric",placeholder:"Örn: 2500"},null,40,H)]),i("div",q,[a[13]||(a[13]=i("label",{class:"label"},[i("span",{class:"label-text"},"KDV Dahil")],-1)),i("input",{value:ye.value,class:"input input-bordered w-full bg-base-200",disabled:""},null,8,R)])]),i("div",_,[i("button",{type:"button",onClick:Ce,class:"btn btn-ghost"},"Temizle"),i("button",{class:"btn btn-primary",type:"submit",disabled:!he.value},v(w.value?"Güncelle":"Kaydet"),9,P)])],32)])]),i("div",O,[i("div",$,[a[25]||(a[25]=i("h3",{class:"card-title"},"Kayıtlı Aidat Tanımları",-1)),i("div",G,[i("div",J,[a[16]||(a[16]=i("label",{class:"label"},[i("span",{class:"label-text"},"Yıl Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>N.value=e),class:"select select-bordered w-full"},[a[15]||(a[15]=i("option",{value:""},"Tüm Yıllar",-1)),(s(!0),t(d,null,u(ke.value,e=>(s(),t("option",{key:e,value:e},v(e),9,Q))),128))],512),[[c,N.value]])]),i("div",W,[a[18]||(a[18]=i("label",{class:"label"},[i("span",{class:"label-text"},"Şirket Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>C.value=e),class:"select select-bordered w-full"},[a[17]||(a[17]=i("option",{value:""},"Tüm Şirketler",-1)),(s(!0),t(d,null,u(p.value,e=>(s(),t("option",{key:e.id,value:e.company},v(e.company),9,X))),128))],512),[[c,C.value]])]),i("div",Z,[a[20]||(a[20]=i("label",{class:"label"},[i("span",{class:"label-text"},"Kat Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>U.value=e),class:"select select-bordered w-full"},[a[19]||(a[19]=i("option",{value:""},"Tüm Katlar",-1)),(s(!0),t(d,null,u(we.value,e=>(s(),t("option",{key:e,value:e},v(e),9,ee))),128))],512),[[c,U.value]])]),i("div",ae,[a[21]||(a[21]=i("label",{class:"label"},[i("span",{class:"label-text"},"Arama")],-1)),r(i("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>K.value=e),class:"input input-bordered w-full",placeholder:"Şirket adı ile ara..."},null,512),[[o,K.value]])])]),i("div",le,[i("table",te,[a[22]||(a[22]=i("thead",null,[i("tr",null,[i("th",null,"Yıl"),i("th",null,"Şirket"),i("th",null,"Kat"),i("th",null,"Aidat (KDV Hariç)"),i("th",null,"KDV Dahil Tutar"),i("th",{class:"text-right"},"İşlemler")])],-1)),i("tbody",null,[(s(!0),t(d,null,u(xe.value,e=>(s(),t("tr",{key:e.id,class:"hover"},[i("td",null,[i("span",se,v(e.year),1)]),i("td",ie,v(e.company),1),i("td",null,v(e.unit),1),i("td",null,v(T(e.amount)),1),i("td",ne,v(T(e.vatIncludedAmount||1.2*e.amount)),1),i("td",re,[i("button",{onClick:a=>(e=>{y.value=e.tenantId,g.value=e.unit,h.value=e.amount.toString().replace(".",","),f.value=e.year,w.value=e.id})(e),class:"btn btn-ghost btn-sm"},"Düzenle",8,oe),i("button",{onClick:a=>(async e=>{if(confirm("Bu aidat tanımını silmek istiyor musunuz? Bu işlem geri alınamaz."))try{await x.deleteAidatDefinition(e),await Ne()}catch(a){alert("Aidat silinirken bir hata oluştu.")}})(e.id),class:"btn btn-ghost btn-sm text-error"},"Sil",8,ce)])]))),128))])])]),0===xe.value.length?(s(),t("div",de,[i("p",null,v(0===k.value.length?"Henüz aidat tanımlanmamış.":"Filtreleme kriterlerine uygun kayıt bulunamadı."),1)])):m("",!0),xe.value.length>0?(s(),t("div",ue,[i("div",ve,[a[23]||(a[23]=i("div",{class:"stat-title"},"Toplam Kayıt",-1)),i("div",me,v(xe.value.length),1)]),i("div",be,[a[24]||(a[24]=i("div",{class:"stat-title"},"Toplam Tutar",-1)),i("div",pe,v(T(Ae.value)),1)])])):m("",!0)])])]))}};const ge=new class{constructor(){this.backendAvailable=!1,this.checkBackendAvailability()}async checkBackendAvailability(){try{await N.get("/health"),this.backendAvailable=!0}catch(e){this.backendAvailable=!1}}async getUsers(e={}){try{if(this.backendAvailable)return await N.get("/users",e)}catch(a){this.backendAvailable=!1}return[]}async getUserById(e){try{if(this.backendAvailable)return await N.get(`/users/${e}`)}catch(a){this.backendAvailable=!1}return null}async createUser(e){try{if(this.backendAvailable)return await N.post("/users",e)}catch(a){this.backendAvailable=!1}return{success:!0,message:"User oluşturuldu (backend mevcut değil)"}}async updateUser(e,a){try{if(this.backendAvailable)return await N.put(`/users/${e}`,a)}catch(l){this.backendAvailable=!1}return{success:!0,message:"User güncellendi (backend mevcut değil)"}}async deleteUser(e){try{if(this.backendAvailable)return await N.delete(`/users/${e}`)}catch(a){this.backendAvailable=!1}return{success:!0,message:"User silindi (backend mevcut değil)"}}},fe={class:"space-y-6"},he={class:"flex items-center justify-between"},ke={class:"card bg-base-100 shadow-xl"},we={class:"card-body"},xe={class:"relative mb-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ne={class:"flex items-center justify-between"},Ce={class:"flex items-center gap-3"},Ue={class:"avatar placeholder"},Ke={class:"bg-neutral-focus text-neutral-content rounded-full w-12"},Te={class:"font-bold"},Se={class:"text-xs text-base-content/70"},je={class:"dropdown dropdown-end"},De={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-36"},Me={key:0},ze=["onClick"],Ve={key:1},Be=["onClick"],Fe={class:"flex items-center justify-between text-xs"},Ye={class:"flex gap-2"},Ie={key:0,class:"badge badge-error badge-sm"},Le={key:1,class:"badge badge-success badge-sm"},Ee={class:"text-base-content/70"},He={key:0,class:"text-center py-10"},qe={key:0,class:"modal modal-open"},Re={class:"modal-box max-w-2xl"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"form-control"},Oe={class:"form-control"},$e={class:"form-control"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={class:"form-control"},Qe=["value"],We={key:0,class:"form-control"},Xe=["value"],Ze={class:"modal-action"},ea=["disabled"],aa={key:0,class:"loading loading-spinner"},la={__name:"UserManagement",setup(h){const{handleNetworkError:k,handleValidationError:w,showSuccess:x}=K(),N=e([]),T=e([]),S=e(""),j=e(!1),D=e(!1),M=b({firstName:"",lastName:"",email:"",role:"",companyId:null}),z=b({message:"",type:""}),V=async()=>{try{T.value=await A.getAllTenants()}catch(e){k(e)}},B=async()=>{try{N.value=await ge.getAllUsers()}catch(e){k(e)}},F=()=>{j.value=!1,Y()},Y=()=>{M.firstName="",M.lastName="",M.email="",M.role="",M.companyId=null,z.message=""},I=(e,a)=>{z.message=e,z.type="success"===a?"alert alert-success":"alert alert-error",setTimeout(()=>{z.message=""},6e3)},L=async()=>{if(M.role!==U.TENANT||M.companyId)if(M.firstName&&M.lastName&&M.email&&M.role){D.value=!0;try{await ge.createUser({firstName:M.firstName,lastName:M.lastName,email:M.email,role:M.role,companyId:M.role===U.TENANT?M.companyId:null}),I(`Kullanıcı başarıyla oluşturuldu! Şifre belirleme bağlantısı ${M.email} adresine gönderildi.`,"success"),F(),await B()}catch(e){w(e)}finally{D.value=!1}}else I("Lütfen tüm zorunlu alanları doldurun.","error");else I("Kiracı rolü için bir firma seçmelisiniz.","error")},E=a(()=>{if(!S.value)return N.value;const e=S.value.toLowerCase();return N.value.filter(a=>a.firstName&&a.firstName.toLowerCase().includes(e)||a.lastName&&a.lastName.toLowerCase().includes(e)||a.email&&a.email.toLowerCase().includes(e))}),H=e=>{switch(e){case"admin":return"badge-primary";case"manager":return"badge-secondary";case"tenant":return"badge-accent";default:return"badge-ghost"}};return l(async()=>{await Promise.all([V(),B()])}),(e,a)=>(s(),t("div",fe,[i("div",he,[a[8]||(a[8]=i("div",null,[i("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Kullanıcı Yönetimi"),i("p",{class:"text-gray-500 dark:text-gray-400"},"Sistem kullanıcılarını yönetin ve yeni kullanıcılar ekleyin")],-1)),i("button",{onClick:a[0]||(a[0]=e=>j.value=!0),class:"btn btn-primary"},a[7]||(a[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Yeni Kullanıcı Ekle ")]))]),i("div",ke,[i("div",we,[a[14]||(a[14]=i("h3",{class:"card-title"},"Kullanıcı Listesi",-1)),i("div",xe,[r(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),class:"input input-bordered w-full pl-10",placeholder:"Ad, soyad veya e-posta ile ara..."},null,512),[[o,S.value]]),a[9]||(a[9]=i("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1))]),i("div",Ae,[(s(!0),t(d,null,u(E.value,e=>{var l,n;return s(),t("div",{key:e.id,class:y(["bg-base-200 p-4 rounded-lg shadow transition hover:shadow-md",!1===e.isActive?"opacity-60 border-l-4 border-error":""])},[i("div",Ne,[i("div",Ce,[i("div",Ue,[i("div",Ke,[i("span",null,v(null==(l=e.firstName)?void 0:l.charAt(0))+v(null==(n=e.lastName)?void 0:n.charAt(0)),1)])]),i("div",null,[i("p",Te,v(e.firstName)+" "+v(e.lastName),1),i("p",Se,v(e.email),1)])]),i("div",je,[a[11]||(a[11]=i("label",{tabindex:"0",class:"btn btn-ghost btn-sm btn-circle"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])],-1)),i("ul",De,[a[10]||(a[10]=i("li",null,[i("a",null,"Düzenle")],-1)),!1!==e.isActive?(s(),t("li",Me,[i("a",{onClick:a=>(async e=>{try{await ge.deactivateUser(e),await B(),x("Kullanıcı başarıyla pasif yapıldı.")}catch(a){w(a)}})(e.id),class:"text-error"},"Pasif Yap",8,ze)])):(s(),t("li",Ve,[i("a",{onClick:a=>(async e=>{try{await ge.activateUser(e),await B(),x("Kullanıcı başarıyla aktif yapıldı.")}catch(a){w(a)}})(e.id),class:"text-success"},"Aktif Yap",8,Be)]))])])]),a[12]||(a[12]=i("div",{class:"divider my-2"},null,-1)),i("div",Fe,[i("div",Ye,[i("span",{class:y([H(e.role),"badge badge-sm font-semibold"])},v(g(C)[e.role]||e.role),3),!1===e.isActive?(s(),t("span",Ie," Pasif ")):(s(),t("span",Le," Aktif "))]),i("span",Ee," Firma: "+v(e.companyName||"Belirtilmemiş"),1)])],2)}),128))]),0===E.value.length?(s(),t("div",He,a[13]||(a[13]=[i("p",{class:"text-base-content/60"},"Aramayla eşleşen kullanıcı bulunamadı.",-1)]))):m("",!0)])]),j.value?(s(),t("div",qe,[i("div",Re,[a[24]||(a[24]=i("h3",{class:"font-bold text-lg mb-4"},"Yeni Kullanıcı Ekle",-1)),z.message?(s(),t("div",{key:0,class:y([z.type,"p-4 rounded-md text-sm font-medium mb-4"])},v(z.message),3)):m("",!0),i("form",{onSubmit:n(L,["prevent"]),class:"space-y-4"},[i("div",_e,[i("div",Pe,[a[15]||(a[15]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Ad")],-1)),r(i("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>M.firstName=e),class:"input input-bordered w-full",required:""},null,512),[[o,M.firstName]])]),i("div",Oe,[a[16]||(a[16]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Soyad")],-1)),r(i("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>M.lastName=e),class:"input input-bordered w-full",required:""},null,512),[[o,M.lastName]])])]),i("div",$e,[a[17]||(a[17]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"E-posta")],-1)),r(i("input",{type:"email","onUpdate:modelValue":a[4]||(a[4]=e=>M.email=e),class:"input input-bordered w-full",required:""},null,512),[[o,M.email]]),a[18]||(a[18]=i("label",{class:"label"},[i("span",{class:"label-text-alt"},"Şifre sıfırlama bağlantısı bu adrese gönderilecek")],-1))]),i("div",Ge,[i("div",Je,[a[20]||(a[20]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Rol")],-1)),r(i("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>M.role=e),class:"select select-bordered w-full",required:""},[a[19]||(a[19]=i("option",{disabled:"",value:""},"Rol Seçiniz",-1)),(s(!0),t(d,null,u(g(C),(e,a)=>(s(),t("option",{key:a,value:a},v(e),9,Qe))),128))],512),[[c,M.role]])]),"tenant"===M.role?(s(),t("div",We,[a[22]||(a[22]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"İlişkili Firma")],-1)),r(i("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>M.companyId=e),class:"select select-bordered w-full",required:""},[a[21]||(a[21]=i("option",{disabled:"",value:""},"Firma Seçiniz",-1)),(s(!0),t(d,null,u(T.value,e=>(s(),t("option",{key:e.id,value:e.id},v(e.company),9,Xe))),128))],512),[[c,M.companyId]])])):m("",!0)]),a[23]||(a[23]=f('<div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class="font-bold">Bilgilendirme</h3><div class="text-xs">Kullanıcı oluşturulduktan sonra, belirtilen e-posta adresine şifre belirleme bağlantısı gönderilecektir.</div></div></div>',1)),i("div",Ze,[i("button",{type:"button",onClick:F,class:"btn btn-ghost"},"İptal"),i("button",{type:"submit",class:"btn btn-primary",disabled:D.value},[D.value?(s(),t("span",aa)):m("",!0),p(" "+v(D.value?"Kullanıcı Oluşturuluyor...":"Kullanıcıyı Oluştur"),1)],8,ea)])],32)])])):m("",!0)]))}},ta={class:"p-4 sm:p-6 lg:p-8 space-y-6 bg-base-200 min-h-screen"},sa={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ia={class:"stat bg-base-100 shadow rounded-box"},na={class:"stat-value text-secondary"},ra={class:"stat bg-base-100 shadow rounded-box"},oa={class:"stat-value text-accent"},ca={role:"tablist",class:"tabs tabs-bordered tabs-lg"},da=["onClick"],ua={class:"mt-6"},va={class:"card bg-base-100 shadow-xl"},ma={class:"card-body"},ba={key:0},pa={key:1},ya={key:2},ga={key:3},fa={__name:"AdminDashboard",setup(a){const n=e("dues"),r=[{key:"dues",label:"Aidat Tanımlama",icon:"📆"},{key:"ownerDues",label:"Mal Sahibi Aidatları",icon:"🏠"},{key:"owners",label:"Mal Sahipleri",icon:"🧑‍💼"},{key:"users",label:"Kullanıcı Yönetimi",icon:"👥"}],o=e(0),c=e(0);e(0);return l(async()=>{try{const e=await A.getTenantStats();o.value=(null==e?void 0:e.activeCount)||(null==e?void 0:e.totalCount)||0}catch(e){}}),(e,a)=>(s(),t("div",ta,[i("div",sa,[i("div",ia,[a[0]||(a[0]=i("div",{class:"stat-figure text-secondary"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-8 h-8 stroke-current"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.004 3.004 0 01-2.732 2.732M11 16V7a3 3 0 013-3h2M11 16h2m-4.5-4.5H7.571a3 3 0 00-2.732 2.732"})])],-1)),a[1]||(a[1]=i("div",{class:"stat-title"},"Toplam Kiracı",-1)),i("div",na,v(o.value),1),a[2]||(a[2]=i("div",{class:"stat-desc"},"Sistemdeki aktif kiracılar",-1))]),i("div",ra,[a[3]||(a[3]=i("div",{class:"stat-figure text-accent"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-8 h-8 stroke-current"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a[4]||(a[4]=i("div",{class:"stat-title"},"Toplam Mal Sahibi",-1)),i("div",oa,v(c.value),1),a[5]||(a[5]=i("div",{class:"stat-desc"},"Sistemdeki mülk sahipleri",-1))])]),i("div",ca,[(s(),t(d,null,u(r,e=>i("a",{key:e.key,role:"tab",class:y(["tab",{"tab-active":n.value===e.key}]),onClick:a=>n.value=e.key},v(e.icon)+" "+v(e.label),11,da)),64))]),i("div",ua,[i("div",va,[i("div",ma,[(s(),h(w,null,[i("div",null,["dues"===n.value?(s(),t("div",ba,[k(ye)])):m("",!0),"ownerDues"===n.value?(s(),t("div",pa,[k(T)])):m("",!0),"owners"===n.value?(s(),t("div",ya,[k(S)])):m("",!0),"users"===n.value?(s(),t("div",ga,[k(la)])):m("",!0)])],1024))])])])]))}};export{fa as default};
