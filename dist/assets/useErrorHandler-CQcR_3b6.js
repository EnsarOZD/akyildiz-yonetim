import{u as n}from"./useNotification-Dv4wKXE4.js";import{d as e,E as t}from"./index-CAkTsZV-.js";function r(){const{showError:r,showSuccess:l}=n(),a=(n,l={})=>{var a,i,o,s,u;let d=t.NETWORK,h="Bağlantı hatası oluştu.";401===(null==(a=null==n?void 0:n.response)?void 0:a.status)?(d=t.AUTH,h="Oturum süresi doldu. Lütfen tekrar giriş yapın."):403===(null==(i=null==n?void 0:n.response)?void 0:i.status)?(d=t.PERMISSION,h="Bu işlem için yetkiniz bulunmuyor."):404===(null==(o=null==n?void 0:n.response)?void 0:o.status)?(d=t.NOT_FOUND,h="Aradığınız kayıt bulunamadı."):422===(null==(s=null==n?void 0:n.response)?void 0:s.status)?(d=t.VALIDATION,h="Geçersiz veri gönderildi."):(null==(u=null==n?void 0:n.response)?void 0:u.status)>=500&&(d=t.SYSTEM,h="Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.");const m=e(d,h,n,l);r(m)},i=(n,l={})=>{const a=(null==n?void 0:n.message)||"Geçersiz veri gönderildi.",i=e(t.VALIDATION,a,n,l);r(i)};return{handleNetworkError:a,handleValidationError:i,handleAuthError:(n,l={})=>{var a,i;let o="Kimlik doğrulama hatası.";401===(null==(a=null==n?void 0:n.response)?void 0:a.status)?o="Geçersiz kimlik bilgileri.":403===(null==(i=null==n?void 0:n.response)?void 0:i.status)&&(o="Bu işlem için yetkiniz bulunmuyor.");const s=e(t.AUTH,o,n,l);r(s)},handleGenericError:(n,l="Beklenmeyen bir hata oluştu.",a={})=>{const i=e(t.SYSTEM,l,n,a);r(i)},showSuccess:l,withErrorHandling:async(n,e={})=>{try{return await n()}catch(t){throw a(t,e),t}},validateForm:(n,e)=>{const t=[];for(const[r,l]of Object.entries(e)){const e=n[r];if(!l.required||e&&""!==e.toString().trim()||t.push(`${l.label||r} alanı zorunludur.`),l.minLength&&e&&e.length<l.minLength&&t.push(`${l.label||r} en az ${l.minLength} karakter olmalıdır.`),l.maxLength&&e&&e.length>l.maxLength&&t.push(`${l.label||r} en fazla ${l.maxLength} karakter olmalıdır.`),l.pattern&&e&&!l.pattern.test(e)&&t.push(`${l.label||r} geçerli bir formatta değil.`),l.custom&&e){const r=l.custom(e,n);r&&t.push(r)}}return!(t.length>0)||(i(t.join(" "),{component:"Form",action:"validation"}),!1)}}}export{r as u};
