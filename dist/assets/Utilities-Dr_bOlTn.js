import{u as e,R as a,a as t}from"./index-SuSpVQ5E.js";import{_ as l}from"./FilterBar-CKnoPBXM.js";import{u as r}from"./useErrorHandler-Ce0sKgl2.js";import{u as s}from"./utilityDebtsService-CWShkKtZ.js";import{r as d,o as n,b as o,m as i,e as u,E as c,G as b,H as g,p,t as m,j as v,c as y,w as x,n as k,u as w,f as h,F as f,i as C,q as N}from"./vue-vendor-j_tVed2R.js";import{a as M}from"./aidatService-BC0jZZt6.js";import{_ as D}from"./ManualDebtModal-Cyy6KhLo.js";import"./utils-vendor-Cy2sLATb.js";const A={open:"",class:"modal"},S={class:"modal-box max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},j={class:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200 dark:border-gray-700"},T={class:"space-y-6"},B={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 space-y-4"},E={class:"form-control"},H=["value"],L={class:"form-control"},U=["value"],Y={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-4"},K={class:"form-control"},V={class:"form-control"},_={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},z=["disabled"],F={__name:"EditAidatModal",props:{record:{type:Object,required:!0}},emits:["close","updated"],setup(e,{emit:a}){var t;const l=e,s=a,{handleValidationError:p,showSuccess:m}=(null==(t=r)?void 0:t())??{},v=d({kdvHaric:0,toplamTutar:0});n(()=>{l.record&&(v.value.kdvHaric=Number(l.record.kdvHaric??l.record.amountExVat??0),v.value.toplamTutar=Number(l.record.toplamTutar??l.record.amount??0))});const y=async()=>{try{const e=Number(l.record.paidAmount||0),a=Number(v.value.toplamTutar)-e;await M.updateAidat(l.record.id,{kdvHaric:v.value.kdvHaric,kdvDahil:v.value.toplamTutar,remainingAmount:a,isPaid:a<=0}),null==m||m("Aidat kaydÄ± gÃ¼ncellendi."),s("updated"),s("close")}catch(e){null==p||p(e)}};return(a,t)=>(i(),o("dialog",A,[u("div",S,[u("div",j,[t[5]||(t[5]=c('<div class="flex items-center gap-3"><div class="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-600 dark:text-yellow-400 rounded-full p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><h3 class="text-xl font-bold text-gray-800 dark:text-gray-100">Aidat KaydÄ± DÃ¼zenle</h3></div>',1)),u("button",{onClick:t[0]||(t[0]=e=>a.$emit("close")),class:"btn btn-ghost btn-sm"},t[4]||(t[4]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),u("div",T,[u("div",B,[t[8]||(t[8]=u("h4",{class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},"KayÄ±t Bilgileri",-1)),u("div",E,[t[6]||(t[6]=u("label",{class:"label"},[u("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Kat/Daire")],-1)),u("input",{type:"text",class:"input input-bordered w-full bg-gray-100 dark:bg-gray-600 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400",value:e.record.unit||e.record.flatNumber||"-",disabled:""},null,8,H)]),u("div",L,[t[7]||(t[7]=u("label",{class:"label"},[u("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Åžirket/KiÅŸi")],-1)),u("input",{type:"text",class:"input input-bordered w-full bg-gray-100 dark:bg-gray-600 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400",value:e.record.tenantName||e.record.ownerName||"-",disabled:""},null,8,U)])]),u("div",Y,[t[13]||(t[13]=u("h4",{class:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3"},"Tutar Bilgileri",-1)),u("div",K,[t[9]||(t[9]=u("label",{class:"label"},[u("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"KDV HariÃ§ Tutar (â‚º)"),u("span",{class:"label-text-alt text-red-500"},"*")],-1)),b(u("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>v.value.kdvHaric=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",step:"0.01",min:"0"},null,512),[[g,v.value.kdvHaric,void 0,{number:!0}]]),t[10]||(t[10]=u("label",{class:"label"},[u("span",{class:"label-text-alt text-gray-500 dark:text-gray-400"},"KDV hariÃ§ aidat tutarÄ±")],-1))]),u("div",V,[t[11]||(t[11]=u("label",{class:"label"},[u("span",{class:"label-text font-semibold text-gray-700 dark:text-gray-300"},"Toplam Tutar (â‚º)"),u("span",{class:"label-text-alt text-red-500"},"*")],-1)),b(u("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>v.value.toplamTutar=e),class:"input input-bordered w-full bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300",step:"0.01",min:"0"},null,512),[[g,v.value.toplamTutar,void 0,{number:!0}]]),t[12]||(t[12]=u("label",{class:"label"},[u("span",{class:"label-text-alt text-gray-500 dark:text-gray-400"},"KDV dahil toplam tutar")],-1))])]),t[14]||(t[14]=c('<div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800"><div class="flex items-start gap-3"><div class="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-600 dark:text-yellow-400 rounded-full p-1 mt-0.5"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="text-sm text-gray-700 dark:text-gray-300"><p class="font-medium mb-1">Dikkat</p><p>Bu deÄŸiÅŸiklik aidat kaydÄ±nÄ± kalÄ±cÄ± olarak gÃ¼nceller.</p></div></div></div>',1)),u("div",_,[u("button",{class:"btn btn-outline btn-sm",onClick:t[3]||(t[3]=e=>a.$emit("close"))}," Ä°ptal "),u("button",{class:"btn btn-primary btn-sm",onClick:y,disabled:v.value.kdvHaric<0||v.value.toplamTutar<0}," Kaydet ",8,z)])])])]))}},I={open:"",class:"modal"},G={class:"modal-box max-w-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},R={class:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-700"},$={class:"text-sm text-gray-600 dark:text-gray-300"},q={class:"text-sm mt-2 text-gray-500 dark:text-gray-400"},O={class:"mt-6 flex justify-end gap-2"},P=["disabled"],J={key:0,class:"loading loading-spinner loading-xs mr-2"},Q={__name:"AidatDeleteModal",props:{record:{type:Object,required:!0}},emits:["close","deleted"],setup(e,{emit:a}){var t;const l=e,s=a,{showSuccess:n,handleNetworkError:b}=(null==(t=r)?void 0:t())??{},g=d(!1),y=async()=>{g.value=!0;try{await M.deleteAidat(l.record.id),null==n||n("Aidat kaydÄ± silindi."),s("deleted"),s("close")}catch(e){null==b||b(e,{component:"AidatDeleteModal",action:"delete"})}finally{g.value=!1}};return(a,t)=>(i(),o("dialog",I,[u("div",G,[u("div",R,[t[2]||(t[2]=c('<div class="flex items-center gap-2"><div class="bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-300 rounded-full p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2M4 7h16"></path></svg></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Aidat KaydÄ± Sil</h3></div>',1)),u("button",{onClick:t[0]||(t[0]=e=>a.$emit("close")),class:"btn btn-ghost btn-xs"},"âœ•")]),u("p",$,[u("strong",null,m(e.record.flatNumber||e.record.unit||"Daire"),1),t[3]||(t[3]=p(" iÃ§in ")),u("strong",null,m(e.record.periodYear)+"/"+m(String(e.record.periodMonth).padStart(2,"0")),1),t[4]||(t[4]=p(" dÃ¶nemine ait kayÄ±t silinsin mi? "))]),u("p",q,[t[5]||(t[5]=p(" Tutar: ")),u("strong",null,m(Number(e.record.amount??e.record.toplamTutar??0).toLocaleString("tr-TR"))+" â‚º",1)]),u("div",O,[u("button",{class:"btn btn-outline btn-sm",onClick:t[1]||(t[1]=e=>a.$emit("close"))},"Ä°ptal"),u("button",{class:"btn btn-error btn-sm",disabled:g.value,onClick:y},[g.value?(i(),o("span",J)):v("",!0),t[6]||(t[6]=p(" Sil "))],8,P)])])]))}},W={class:"p-4 sm:p-6 bg-gray-50 min-h-screen font-sans dark:bg-gray-900"},X={class:"max-w-7xl mx-auto"},Z={key:0,class:"my-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},ee={key:1,class:"my-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},ae={class:"flex items-center gap-3"},te={class:"text-red-700 dark:text-red-300"},le={key:2,class:"my-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},re={class:"flex items-center justify-between"},se={class:"flex items-center gap-3"},de={class:"text-green-700 dark:text-blue-300"},ne={class:"text-sm text-green-600 dark:text-green-400"},oe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 my-8"},ie={class:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md flex items-center gap-4 border border-gray-200 dark:border-gray-700"},ue={class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},ce={key:0,class:"lg:col-span-3 bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md flex items-center justify-between border-2 border-dashed border-gray-300 dark:border-gray-600"},be={class:"flex flex-wrap gap-2"},ge={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md border border-gray-200 dark:border-gray-700"},pe={class:"bg-white dark:bg-gray-800 mt-6 p-6 rounded-xl shadow-md border border-gray-200 dark:border-gray-700"},me={class:"flex items-center justify-between mb-4"},ve={class:"text-sm text-gray-500 dark:text-gray-400"},ye={key:0,class:"text-center py-10 text-gray-500 dark:text-gray-400"},xe={key:1,class:"space-y-2"},ke={class:"md:col-span-3"},we={class:"font-bold text-gray-800 dark:text-gray-100"},he={class:"text-xs text-gray-400 dark:text-gray-500"},fe={class:"flex items-center gap-2 mt-1"},Ce={class:"md:col-span-2 text-center"},Ne={class:"font-semibold"},Me={class:"md:col-span-2 text-center"},De={class:"font-semibold text-lg"},Ae={class:"md:col-span-3 text-center"},Se={class:"font-medium"},je={key:0,class:"md:col-span-2 text-right"},Te={class:"dropdown dropdown-end"},Be={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-200 rounded-box w-40 z-10"},Ee=["onClick"],He={key:0},Le=["onClick"],Ue={class:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-3"},Ye={class:"text-sm text-gray-600 dark:text-gray-300"},Ke={class:"flex items-center gap-2"},Ve=["disabled"],_e=["disabled"],ze={class:"mx-2 text-sm"},Fe=["disabled"],Ie=["disabled"],Ge={__name:"Utilities",setup(c){const{handleNetworkError:b,showSuccess:g}=r(),M=e();function A(e){const a=String((null==e?void 0:e.period)??""),[t,l]=a&&a.includes("-")?a.split("-"):[null,null];return{y:Number((null==e?void 0:e.periodYear)??t)||null,m:Number((null==e?void 0:e.periodMonth)??l)||null}}const S=d([]),j=d(""),T=d(""),B=d("all"),E=d(null),H=d(!1),L=d(!1),U=d(!1),Y=d(1),K=[{value:"all",label:"TÃ¼m BorÃ§lar"},{value:"0",label:"Aidat",icon:"ðŸ“‹"},{value:"1",label:"Elektrik",icon:"âš¡"},{value:"2",label:"Su",icon:"ðŸ’§"}],V=d(1),_=d(10),z=y(()=>G.value.length),I=y(()=>{const e=(V.value-1)*_.value;return G.value.slice(e,e+_.value)}),G=y(()=>S.value.filter(e=>{const a=j.value.toLowerCase(),t=!a||(e.flatNumber||"").toLowerCase().includes(a)||(e.tenantCompany||"").toLowerCase().includes(a)||(e.description||"").toLowerCase().includes(a),l="all"===B.value||String(e.type)===B.value,r=function(e){const{y:a,m:t}=A(e);return a&&t?`${a}-${String(t).padStart(2,"0")}`:""}(e),s=!T.value||r===T.value;return t&&l&&s}).sort((e,a)=>(a.periodYear??0)-(e.periodYear??0)||(a.periodMonth??0)-(e.periodMonth??0))),R=d({loading:!1,error:null,lastUpdated:null}),$=d(0),q=e=>{$.value+=e?1:-1,R.value.loading=$.value>0},O=e=>{Y.value=e,E.value=null,U.value=!0},P=d(null),J=()=>{P.value.click()},Ge=async e=>{const a=e.target.files[0];if(!a)return;const l=new FormData;l.append("file",a),q(!0);try{const e=await t.post("/UtilityDebts/import",l,{headers:{"Content-Type":"multipart/form-data"}});g(`${e.count} adet borÃ§ kaydÄ± baÅŸarÄ±yla iÃ§eri aktarÄ±ldÄ±.`),qe()}catch(r){b(r)}finally{q(!1),e.target.value=""}},Re=async()=>{try{const[e,a,l]=await Promise.all([s.getUtilityDebts({period:T.value||void 0}),t.get("/Flats"),t.get("/Tenants")]),r=new Map((a||[]).map(e=>[e.id,e])),d=new Map((l||[]).map(e=>[e.id,e])),n=e=>"number"==typeof e?2===e?"paid":1===e?"partial":"unpaid":String(e||"").toLowerCase();S.value=(e||[]).map(e=>{const a=r.get(e.flatId),t=d.get(e.tenantId),{y:l,m:s}=A(e);return{id:e.id,flatId:e.flatId,type:e.type??0,flatNumber:e.flatNumber??e.flat_code??e.FlatCode??(null==a?void 0:a.code)??"-",tenantCompany:e.tenantName??e.TenantCompanyName??(null==t?void 0:t.companyName)??(null==t?void 0:t.company)??(null==t?void 0:t.fullName)??(null==a?void 0:a.tenantCompanyName)??null,periodYear:l,periodMonth:s,amount:Number(e.amount??e.value??e.total??0),dueDate:(()=>{const a=e.dueDate??e.DueDate??e.due_date??null;if(!a)return null;const t=new Date(a);return isNaN(t)||t.getFullYear()<1900?null:a})(),status:n(e.status),remainingAmount:Number(e.remainingAmount??e.RemainingAmount??0)}})}catch(e){S.value=[]}},$e=e=>{H.value=!1,L.value=!1,U.value=!1,E.value=null,e&&qe()},qe=()=>Re(),Oe=()=>{j.value="",T.value="",B.value="all",V.value=1},Pe=e=>{if(!e)return"-";const a=new Date(e);return isNaN(a)||a.getFullYear()<1900?"-":a.toLocaleDateString("tr-TR")};return x([j,T,B],()=>{V.value=1}),x(_,()=>{V.value=1}),x(T,()=>{Re()}),n(()=>{qe()}),(e,t)=>(i(),o("div",W,[u("div",X,[t[26]||(t[26]=u("h1",{class:"text-3xl font-bold text-gray-800 my-6 dark:text-gray-100"},"Gider ve Aidat YÃ¶netimi",-1)),R.value.loading?(i(),o("div",Z,t[10]||(t[10]=[u("div",{class:"flex items-center gap-3"},[u("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u("span",{class:"text-blue-700 dark:text-blue-300"},"Veriler yÃ¼kleniyor...")],-1)]))):v("",!0),R.value.error?(i(),o("div",ee,[u("div",ae,[t[11]||(t[11]=u("div",{class:"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 rounded-full p-1"},[u("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),u("span",te,m(R.value.error),1)])])):v("",!0),R.value.lastUpdated?(i(),o("div",le,[u("div",re,[u("div",se,[t[12]||(t[12]=u("div",{class:"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400 rounded-full p-1"},[u("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),u("span",de," Son gÃ¼ncelleme: "+m(R.value.lastUpdated),1)]),u("div",ne,m(S.value.length)+" aidat kaydÄ± ",1)])])):v("",!0),u("section",oe,[u("div",ie,[t[14]||(t[14]=u("div",{class:"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-600 dark:text-cyan-400 rounded-full p-3"},[u("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12h6m6 4h6m-7 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),u("div",null,[t[13]||(t[13]=u("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Toplam KayÄ±t",-1)),u("p",ue,m(S.value.length),1)])]),w(M).role===w(a).ADMIN||w(M).role===w(a).MANAGER?(i(),o("div",ce,[t[20]||(t[20]=u("div",null,[u("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Aidat ve Gider YÃ¶netimi"),u("p",{class:"text-xs text-gray-400 italic"},"DÃ¶nemsel aidat oluÅŸturabilir veya giderleri takip edebilirsiniz.")],-1)),u("div",be,[u("button",{onClick:t[0]||(t[0]=e=>O(0)),class:"btn btn-success btn-md text-white"},t[15]||(t[15]=[u("span",{class:"mr-1"},"ðŸ“‹",-1),p(" Aidat Ekle ")])),u("button",{onClick:t[1]||(t[1]=e=>O(1)),class:"btn btn-warning btn-md text-white"},t[16]||(t[16]=[u("span",{class:"mr-1"},"âš¡",-1),p(" Elektrik Borcu Ekle ")])),u("button",{onClick:t[2]||(t[2]=e=>O(2)),class:"btn btn-info btn-md text-white"},t[17]||(t[17]=[u("span",{class:"mr-1"},"ðŸ’§",-1),p(" Su Borcu Ekle ")])),t[19]||(t[19]=u("div",{class:"divider divider-horizontal mx-0"},null,-1)),u("button",{onClick:J,class:"btn btn-neutral btn-md text-white border-2 border-dashed border-gray-400"},t[18]||(t[18]=[u("span",{class:"mr-1"},"ðŸ“Š",-1),p(" Excel'den YÃ¼kle ")])),u("input",{type:"file",ref_key:"fileInput",ref:P,hidden:"",accept:".xlsx,.xls",onChange:Ge},null,544)])])):v("",!0)]),u("div",ge,[h(l,{search:j.value,"onUpdate:search":t[3]||(t[3]=e=>j.value=e),period:T.value,"onUpdate:period":t[4]||(t[4]=e=>T.value=e),"select-type":B.value,"onUpdate:selectType":t[5]||(t[5]=e=>B.value=e),"select-type-options":K,onClearFilters:Oe},null,8,["search","period","select-type"])]),u("div",pe,[u("div",me,[t[21]||(t[21]=u("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-100"},"BorÃ§ Listesi",-1)),u("div",ve,m(G.value.length)+" kayÄ±t ",1)]),0===G.value.length?(i(),o("div",ye," Bu filtrelerle aidat kaydÄ± bulunamadÄ±. ")):(i(),o("div",xe,[(i(!0),o(f,null,C(I.value,e=>{return i(),o("div",{key:e.id||e.flatId+"-"+e.periodYear+"-"+e.periodMonth,class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 border-b dark:border-gray-700/50"},[u("div",ke,[u("p",we,m(e.tenantCompany||e.flatNumber||"-"),1),u("p",he," Son Ã¶deme: "+m(Pe(e.dueDate)),1),u("div",fe,[u("span",{class:N(["badge badge-xs font-semibold",0===e.type?"badge-neutral":1===e.type?"badge-warning":"badge-info"])},m((r=e.type,{0:"Aidat",1:"Elektrik",2:"Su"}[r]??"DiÄŸer")),3)])]),u("div",Ce,[t[22]||(t[22]=u("span",{class:"text-sm text-gray-500"},"DÃ¶nem",-1)),u("p",Ne,m(e.periodYear)+"/"+m(String(e.periodMonth).padStart(2,"0")),1)]),u("div",Me,[t[23]||(t[23]=u("span",{class:"text-sm text-gray-500"},"Tutar",-1)),u("p",De,m((l=e.amount,null==l||isNaN(l)?"-":Number(l).toLocaleString("tr-TR")))+" â‚º",1)]),u("div",Ae,[t[24]||(t[24]=u("span",{class:"text-sm text-gray-500"},"Durum",-1)),u("p",Se,[u("span",{class:N(["px-2 py-1 rounded-full text-xs","paid"===e.status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":(e.status,"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300")])},m("paid"===e.status?"Ã–dendi":"partial"===e.status?"KÄ±smi":"Bekliyor"),3)])]),w(M).role===w(a).ADMIN||w(M).role===w(a).MANAGER?(i(),o("div",je,[u("div",Te,[t[25]||(t[25]=u("label",{tabindex:"0",class:"btn btn-ghost btn-sm"},"Ä°ÅŸlem",-1)),u("ul",Be,[u("li",null,[u("a",{onClick:a=>(e=>{E.value=e,0===e.type?H.value=!0:(Y.value=e.type,U.value=!0)})(e)},"DÃ¼zenle",8,Ee)]),w(M).role===w(a).ADMIN?(i(),o("li",He,[u("a",{class:"text-red-500",onClick:a=>(e=>{E.value=e,L.value=!0})(e)},"Sil",8,Le)])):v("",!0)])])])):v("",!0)]);var l,r}),128))])),u("div",Ue,[u("div",Ye," GÃ¶sterilen "+m(z.value?(V.value-1)*_.value+1:0)+" â€“ "+m(Math.min(V.value*_.value,z.value))+" / "+m(z.value),1),u("div",Ke,[u("button",{class:"btn btn-sm",disabled:1===V.value,onClick:t[6]||(t[6]=e=>V.value=1)},"Â« Ä°lk",8,Ve),u("button",{class:"btn btn-sm",disabled:1===V.value,onClick:t[7]||(t[7]=e=>V.value--)},"â€¹ Geri",8,_e),u("span",ze,"Sayfa "+m(V.value)+" / "+m(Math.max(1,Math.ceil(z.value/_.value))),1),u("button",{class:"btn btn-sm",disabled:V.value>=Math.ceil(z.value/_.value),onClick:t[8]||(t[8]=e=>V.value++)},"Ä°leri â€º",8,Fe),u("button",{class:"btn btn-sm",disabled:V.value>=Math.ceil(z.value/_.value),onClick:t[9]||(t[9]=e=>V.value=Math.ceil(z.value/_.value))},"Son Â»",8,Ie)])])])]),H.value&&E.value?(i(),k(F,{key:0,record:E.value,onClose:$e,onUpdated:qe},null,8,["record"])):v("",!0),L.value&&E.value?(i(),k(Q,{key:1,record:E.value,onClose:$e,onDeleted:qe},null,8,["record"])):v("",!0),U.value?(i(),k(D,{key:2,type:Y.value,"initial-data":E.value,onClose:$e,onRefresh:qe},null,8,["type","initial-data"])):v("",!0)]))}};export{Ge as default};
