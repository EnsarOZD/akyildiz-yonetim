import{r as e,C as a,o as l,c as t,l as s,b as i,q as n,D as r,H as o,E as c,F as d,i as u,t as v,e as m,U as b,n as p,p as y,u as g,G as h,m as k,f,V as w}from"./vue-vendor-B4bLxnmP.js";import{a as x}from"./aidatService-BMIBvfx0.js";import{t as A}from"./tenantsService-B2_anAuD.js";import{a as N,R as C,b as U}from"./index-ErXur627.js";import{u as K}from"./useErrorHandler-DB_Jk_TF.js";import S from"./OwnerDuesPanel-CmaZtAxO.js";import T from"./Owners-B7OX1wRE.js";import"./ownerDuesService-CFfEkft-.js";import"./units-BVkJ3cEn.js";import"./ownersService-BBftqt2W.js";import"./FilterBar-BWi_ml3H.js";const j={class:"space-y-6"},D={class:"card bg-base-100 shadow-xl"},z={class:"card-body"},M={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},V={class:"form-control"},B={class:"form-control"},F=["value"],Y={class:"form-control"},I=["disabled"],L=["value"],E={class:"form-control"},H=["value"],q={class:"form-control"},R=["value"],_={class:"card-actions justify-end"},P=["disabled"],O={class:"card bg-base-100 shadow-xl"},$={class:"card-body"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},J={class:"form-control"},Q=["value"],W={class:"form-control"},X=["value"],Z={class:"form-control"},ee=["value"],ae={class:"form-control"},le={class:"overflow-x-auto"},te={class:"table w-full"},se={class:"badge badge-ghost"},ie={class:"font-medium"},ne={class:"font-bold text-success"},re={class:"text-right"},oe=["onClick"],ce=["onClick"],de={key:0,class:"text-center py-10 text-base-content/60"},ue={key:1,class:"stats stats-horizontal shadow mt-4"},ve={class:"stat"},me={class:"stat-value text-primary"},be={class:"stat"},pe={class:"stat-value text-success"},ye={__name:"AidatPanel",setup(b){const p=e([]),y=e(""),g=e(""),h=e((new Date).getFullYear()),k=e(""),f=e([]),w=e(null),N=e(""),C=e(""),U=e(""),K=e(""),S=e=>!e||isNaN(e)?"â‚º0.00":Number(e).toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),T=()=>{const e=k.value.replace(/\./g,"").replace(",",".");return parseFloat(e)||0},ye=a(()=>{const e=T();return e?(1.2*e).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})+" â‚º":"0.00 â‚º"}),ge=e=>{let a=e.target.value;a=a.replace(/[^0-9,.]/g,"");const l=a.split(/[.,]/);l.length>2&&(a=l[0]+","+l.slice(1).join("")),k.value=a},he=a(()=>{const e=p.value.find(e=>e.id===y.value);return e&&e.units||[]}),ke=a(()=>y.value&&g.value&&T()>0&&h.value>=2020),fe=a(()=>[...new Set(f.value.map(e=>e.year))].sort((e,a)=>a-e)),we=a(()=>[...new Set(f.value.map(e=>e.unit))].sort()),xe=a(()=>{let e=f.value;if(N.value&&(e=e.filter(e=>e.year===N.value)),C.value&&(e=e.filter(e=>e.company===C.value)),U.value&&(e=e.filter(e=>e.unit===U.value)),K.value){const a=K.value.toLowerCase();e=e.filter(e=>e.company.toLowerCase().includes(a)||e.unit.toLowerCase().includes(a))}return e.sort((e,a)=>a.year-e.year||e.company.localeCompare(a.company))}),Ae=a(()=>xe.value.reduce((e,a)=>e+(a.vatIncludedAmount||1.2*a.amount),0)),Ne=async()=>{try{const e=await x.getAidatDefinitions();f.value=e||[]}catch(e){f.value=[]}},Ce=()=>{y.value="",g.value="",k.value="",h.value=(new Date).getFullYear(),w.value=null},Ue=async()=>{const e=T();if(!ke.value)return void alert("LÃ¼tfen tÃ¼m alanlarÄ± eksiksiz doldurun.");const a=parseFloat((1.2*e).toFixed(2)),l={tenantId:y.value,unit:g.value,year:h.value,amount:e,vatIncludedAmount:a};try{if(w.value)await x.updateAidatDefinition(w.value,l),alert("Aidat gÃ¼ncellendi.");else{if(f.value.find(e=>e.year===h.value&&e.tenantId===y.value&&e.unit===g.value))return void alert("Bu ÅŸirketin bu katÄ± iÃ§in bu yÄ±l zaten aidat tanÄ±mlanmÄ±ÅŸ.");await x.createAidatDefinition(l),alert("Aidat kaydÄ± eklendi.")}}catch(t){alert("Bir hata oluÅŸtu.")}Ce(),await Ne()};return l(async()=>{try{const e=await A.getTenants();p.value=e||[],await Ne()}catch(e){p.value=[]}}),(e,a)=>(s(),t("div",j,[a[26]||(a[26]=i("div",{class:"text-center"},[i("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"YÄ±llÄ±k Aidat YÃ¶netimi"),i("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"KiracÄ±lar iÃ§in yÄ±llÄ±k aidat tutarlarÄ±nÄ± tanÄ±mlayÄ±n ve yÃ¶netin")],-1)),i("div",D,[i("div",z,[a[14]||(a[14]=i("h3",{class:"card-title"},"Yeni Aidat TanÄ±mlama",-1)),i("form",{onSubmit:n(Ue,["prevent"]),class:"space-y-4"},[i("div",M,[i("div",V,[a[7]||(a[7]=i("label",{class:"label"},[i("span",{class:"label-text"},"YÄ±l")],-1)),r(i("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),class:"input input-bordered w-full",min:"2020"},null,512),[[o,h.value,void 0,{number:!0}]])]),i("div",B,[a[9]||(a[9]=i("label",{class:"label"},[i("span",{class:"label-text"},"Åžirket")],-1)),r(i("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),class:"select select-bordered w-full"},[a[8]||(a[8]=i("option",{disabled:"",value:""},"SeÃ§iniz",-1)),(s(!0),t(d,null,u(p.value,e=>(s(),t("option",{key:e.id,value:e.id},v(e.company),9,F))),128))],512),[[c,y.value]])]),i("div",Y,[a[11]||(a[11]=i("label",{class:"label"},[i("span",{class:"label-text"},"Kat")],-1)),r(i("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),class:"select select-bordered w-full",disabled:!y.value},[a[10]||(a[10]=i("option",{disabled:"",value:""},"SeÃ§iniz",-1)),(s(!0),t(d,null,u(he.value,e=>(s(),t("option",{key:e,value:e},v(e),9,L))),128))],8,I),[[c,g.value]])]),i("div",E,[a[12]||(a[12]=i("label",{class:"label"},[i("span",{class:"label-text"},"Aidat (KDV HariÃ§)")],-1)),i("input",{value:k.value,onInput:ge,class:"input input-bordered w-full",inputmode:"numeric",placeholder:"Ã–rn: 2500"},null,40,H)]),i("div",q,[a[13]||(a[13]=i("label",{class:"label"},[i("span",{class:"label-text"},"KDV Dahil")],-1)),i("input",{value:ye.value,class:"input input-bordered w-full bg-base-200",disabled:""},null,8,R)])]),i("div",_,[i("button",{type:"button",onClick:Ce,class:"btn btn-ghost"},"Temizle"),i("button",{class:"btn btn-primary",type:"submit",disabled:!ke.value},v(w.value?"GÃ¼ncelle":"Kaydet"),9,P)])],32)])]),i("div",O,[i("div",$,[a[25]||(a[25]=i("h3",{class:"card-title"},"KayÄ±tlÄ± Aidat TanÄ±mlarÄ±",-1)),i("div",G,[i("div",J,[a[16]||(a[16]=i("label",{class:"label"},[i("span",{class:"label-text"},"YÄ±l Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>N.value=e),class:"select select-bordered w-full"},[a[15]||(a[15]=i("option",{value:""},"TÃ¼m YÄ±llar",-1)),(s(!0),t(d,null,u(fe.value,e=>(s(),t("option",{key:e,value:e},v(e),9,Q))),128))],512),[[c,N.value]])]),i("div",W,[a[18]||(a[18]=i("label",{class:"label"},[i("span",{class:"label-text"},"Åžirket Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>C.value=e),class:"select select-bordered w-full"},[a[17]||(a[17]=i("option",{value:""},"TÃ¼m Åžirketler",-1)),(s(!0),t(d,null,u(p.value,e=>(s(),t("option",{key:e.id,value:e.company},v(e.company),9,X))),128))],512),[[c,C.value]])]),i("div",Z,[a[20]||(a[20]=i("label",{class:"label"},[i("span",{class:"label-text"},"Kat Filtresi")],-1)),r(i("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>U.value=e),class:"select select-bordered w-full"},[a[19]||(a[19]=i("option",{value:""},"TÃ¼m Katlar",-1)),(s(!0),t(d,null,u(we.value,e=>(s(),t("option",{key:e,value:e},v(e),9,ee))),128))],512),[[c,U.value]])]),i("div",ae,[a[21]||(a[21]=i("label",{class:"label"},[i("span",{class:"label-text"},"Arama")],-1)),r(i("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>K.value=e),class:"input input-bordered w-full",placeholder:"Åžirket adÄ± ile ara..."},null,512),[[o,K.value]])])]),i("div",le,[i("table",te,[a[22]||(a[22]=i("thead",null,[i("tr",null,[i("th",null,"YÄ±l"),i("th",null,"Åžirket"),i("th",null,"Kat"),i("th",null,"Aidat (KDV HariÃ§)"),i("th",null,"KDV Dahil Tutar"),i("th",{class:"text-right"},"Ä°ÅŸlemler")])],-1)),i("tbody",null,[(s(!0),t(d,null,u(xe.value,e=>(s(),t("tr",{key:e.id,class:"hover"},[i("td",null,[i("span",se,v(e.year),1)]),i("td",ie,v(e.company),1),i("td",null,v(e.unit),1),i("td",null,v(S(e.amount)),1),i("td",ne,v(S(e.vatIncludedAmount||1.2*e.amount)),1),i("td",re,[i("button",{onClick:a=>(e=>{y.value=e.tenantId,g.value=e.unit,k.value=e.amount.toString().replace(".",","),h.value=e.year,w.value=e.id})(e),class:"btn btn-ghost btn-sm"},"DÃ¼zenle",8,oe),i("button",{onClick:a=>(async e=>{if(confirm("Bu aidat tanÄ±mÄ±nÄ± silmek istiyor musunuz? Bu iÅŸlem geri alÄ±namaz."))try{await x.deleteAidatDefinition(e),await Ne()}catch(a){alert("Aidat silinirken bir hata oluÅŸtu.")}})(e.id),class:"btn btn-ghost btn-sm text-error"},"Sil",8,ce)])]))),128))])])]),0===xe.value.length?(s(),t("div",de,[i("p",null,v(0===f.value.length?"HenÃ¼z aidat tanÄ±mlanmamÄ±ÅŸ.":"Filtreleme kriterlerine uygun kayÄ±t bulunamadÄ±."),1)])):m("",!0),xe.value.length>0?(s(),t("div",ue,[i("div",ve,[a[23]||(a[23]=i("div",{class:"stat-title"},"Toplam KayÄ±t",-1)),i("div",me,v(xe.value.length),1)]),i("div",be,[a[24]||(a[24]=i("div",{class:"stat-title"},"Toplam Tutar",-1)),i("div",pe,v(S(Ae.value)),1)])])):m("",!0)])])]))}};const ge=new class{constructor(){this.backendAvailable=!1,this.checkBackendAvailability()}async checkBackendAvailability(){try{await N.get("/health"),this.backendAvailable=!0}catch(e){this.backendAvailable=!1}}async getUsers(e={}){try{if(this.backendAvailable)return await N.get("/users",e)}catch(a){this.backendAvailable=!1}return[]}async getUserById(e){try{if(this.backendAvailable)return await N.get(`/users/${e}`)}catch(a){this.backendAvailable=!1}return null}async createUser(e){try{if(this.backendAvailable)return await N.post("/users",e)}catch(a){this.backendAvailable=!1}return{success:!0,message:"User oluÅŸturuldu (backend mevcut deÄŸil)"}}async updateUser(e,a){try{if(this.backendAvailable)return await N.put(`/users/${e}`,a)}catch(l){this.backendAvailable=!1}return{success:!0,message:"User gÃ¼ncellendi (backend mevcut deÄŸil)"}}async deleteUser(e){try{if(this.backendAvailable)return await N.delete(`/users/${e}`)}catch(a){this.backendAvailable=!1}return{success:!0,message:"User silindi (backend mevcut deÄŸil)"}}},he={class:"space-y-6"},ke={class:"flex items-center justify-between"},fe={class:"card bg-base-100 shadow-xl"},we={class:"card-body"},xe={class:"relative mb-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ne={class:"flex items-center justify-between"},Ce={class:"flex items-center gap-3"},Ue={class:"avatar placeholder"},Ke={class:"bg-neutral-focus text-neutral-content rounded-full w-12"},Se={class:"font-bold"},Te={class:"text-xs text-base-content/70"},je={class:"dropdown dropdown-end"},De={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-36"},ze={key:0},Me=["onClick"],Ve={key:1},Be=["onClick"],Fe={class:"flex items-center justify-between text-xs"},Ye={class:"flex gap-2"},Ie={key:0,class:"badge badge-error badge-sm"},Le={key:1,class:"badge badge-success badge-sm"},Ee={class:"text-base-content/70"},He={key:0,class:"text-center py-10"},qe={key:0,class:"modal modal-open"},Re={class:"modal-box max-w-2xl"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"form-control"},Oe={class:"form-control"},$e={class:"form-control"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={class:"form-control"},Qe=["value"],We={key:0,class:"form-control"},Xe=["value"],Ze={class:"modal-action"},ea=["disabled"],aa={key:0,class:"loading loading-spinner"},la={__name:"UserManagement",setup(k){const{handleNetworkError:f,handleValidationError:w,showSuccess:x}=K(),N=e([]),S=e([]),T=e(""),j=e(!1),D=e(!1),z=b({firstName:"",lastName:"",email:"",role:"",companyId:null}),M=b({message:"",type:""}),V=async()=>{try{S.value=await A.getAllTenants()}catch(e){f(e)}},B=async()=>{try{N.value=await ge.getAllUsers()}catch(e){f(e)}},F=()=>{j.value=!1,Y()},Y=()=>{z.firstName="",z.lastName="",z.email="",z.role="",z.companyId=null,M.message=""},I=(e,a)=>{M.message=e,M.type="success"===a?"alert alert-success":"alert alert-error",setTimeout(()=>{M.message=""},6e3)},L=async()=>{if(z.role!==U.TENANT||z.companyId)if(z.firstName&&z.lastName&&z.email&&z.role){D.value=!0;try{await ge.createUser({firstName:z.firstName,lastName:z.lastName,email:z.email,role:z.role,companyId:z.role===U.TENANT?z.companyId:null}),I(`KullanÄ±cÄ± baÅŸarÄ±yla oluÅŸturuldu! Åžifre belirleme baÄŸlantÄ±sÄ± ${z.email} adresine gÃ¶nderildi.`,"success"),F(),await B()}catch(e){w(e)}finally{D.value=!1}}else I("LÃ¼tfen tÃ¼m zorunlu alanlarÄ± doldurun.","error");else I("KiracÄ± rolÃ¼ iÃ§in bir firma seÃ§melisiniz.","error")},E=a(()=>{if(!T.value)return N.value;const e=T.value.toLowerCase();return N.value.filter(a=>a.firstName&&a.firstName.toLowerCase().includes(e)||a.lastName&&a.lastName.toLowerCase().includes(e)||a.email&&a.email.toLowerCase().includes(e))}),H=e=>{switch(e){case"admin":return"badge-primary";case"manager":return"badge-secondary";case"tenant":return"badge-accent";default:return"badge-ghost"}};return l(async()=>{await Promise.all([V(),B()])}),(e,a)=>(s(),t("div",he,[i("div",ke,[a[8]||(a[8]=i("div",null,[i("h2",{class:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"KullanÄ±cÄ± YÃ¶netimi"),i("p",{class:"text-gray-500 dark:text-gray-400"},"Sistem kullanÄ±cÄ±larÄ±nÄ± yÃ¶netin ve yeni kullanÄ±cÄ±lar ekleyin")],-1)),i("button",{onClick:a[0]||(a[0]=e=>j.value=!0),class:"btn btn-primary"},a[7]||(a[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Yeni KullanÄ±cÄ± Ekle ")]))]),i("div",fe,[i("div",we,[a[14]||(a[14]=i("h3",{class:"card-title"},"KullanÄ±cÄ± Listesi",-1)),i("div",xe,[r(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>T.value=e),class:"input input-bordered w-full pl-10",placeholder:"Ad, soyad veya e-posta ile ara..."},null,512),[[o,T.value]]),a[9]||(a[9]=i("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1))]),i("div",Ae,[(s(!0),t(d,null,u(E.value,e=>{var l,n;return s(),t("div",{key:e.id,class:y(["bg-base-200 p-4 rounded-lg shadow transition hover:shadow-md",!1===e.isActive?"opacity-60 border-l-4 border-error":""])},[i("div",Ne,[i("div",Ce,[i("div",Ue,[i("div",Ke,[i("span",null,v(null==(l=e.firstName)?void 0:l.charAt(0))+v(null==(n=e.lastName)?void 0:n.charAt(0)),1)])]),i("div",null,[i("p",Se,v(e.firstName)+" "+v(e.lastName),1),i("p",Te,v(e.email),1)])]),i("div",je,[a[11]||(a[11]=i("label",{tabindex:"0",class:"btn btn-ghost btn-sm btn-circle"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])],-1)),i("ul",De,[a[10]||(a[10]=i("li",null,[i("a",null,"DÃ¼zenle")],-1)),!1!==e.isActive?(s(),t("li",ze,[i("a",{onClick:a=>(async e=>{try{await ge.deactivateUser(e),await B(),x("KullanÄ±cÄ± baÅŸarÄ±yla pasif yapÄ±ldÄ±.")}catch(a){w(a)}})(e.id),class:"text-error"},"Pasif Yap",8,Me)])):(s(),t("li",Ve,[i("a",{onClick:a=>(async e=>{try{await ge.activateUser(e),await B(),x("KullanÄ±cÄ± baÅŸarÄ±yla aktif yapÄ±ldÄ±.")}catch(a){w(a)}})(e.id),class:"text-success"},"Aktif Yap",8,Be)]))])])]),a[12]||(a[12]=i("div",{class:"divider my-2"},null,-1)),i("div",Fe,[i("div",Ye,[i("span",{class:y([H(e.role),"badge badge-sm font-semibold"])},v(g(C)[e.role]||e.role),3),!1===e.isActive?(s(),t("span",Ie," Pasif ")):(s(),t("span",Le," Aktif "))]),i("span",Ee," Firma: "+v(e.companyName||"BelirtilmemiÅŸ"),1)])],2)}),128))]),0===E.value.length?(s(),t("div",He,a[13]||(a[13]=[i("p",{class:"text-base-content/60"},"Aramayla eÅŸleÅŸen kullanÄ±cÄ± bulunamadÄ±.",-1)]))):m("",!0)])]),j.value?(s(),t("div",qe,[i("div",Re,[a[24]||(a[24]=i("h3",{class:"font-bold text-lg mb-4"},"Yeni KullanÄ±cÄ± Ekle",-1)),M.message?(s(),t("div",{key:0,class:y([M.type,"p-4 rounded-md text-sm font-medium mb-4"])},v(M.message),3)):m("",!0),i("form",{onSubmit:n(L,["prevent"]),class:"space-y-4"},[i("div",_e,[i("div",Pe,[a[15]||(a[15]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Ad")],-1)),r(i("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>z.firstName=e),class:"input input-bordered w-full",required:""},null,512),[[o,z.firstName]])]),i("div",Oe,[a[16]||(a[16]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Soyad")],-1)),r(i("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>z.lastName=e),class:"input input-bordered w-full",required:""},null,512),[[o,z.lastName]])])]),i("div",$e,[a[17]||(a[17]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"E-posta")],-1)),r(i("input",{type:"email","onUpdate:modelValue":a[4]||(a[4]=e=>z.email=e),class:"input input-bordered w-full",required:""},null,512),[[o,z.email]]),a[18]||(a[18]=i("label",{class:"label"},[i("span",{class:"label-text-alt"},"Åžifre sÄ±fÄ±rlama baÄŸlantÄ±sÄ± bu adrese gÃ¶nderilecek")],-1))]),i("div",Ge,[i("div",Je,[a[20]||(a[20]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Rol")],-1)),r(i("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>z.role=e),class:"select select-bordered w-full",required:""},[a[19]||(a[19]=i("option",{disabled:"",value:""},"Rol SeÃ§iniz",-1)),(s(!0),t(d,null,u(g(C),(e,a)=>(s(),t("option",{key:a,value:a},v(e),9,Qe))),128))],512),[[c,z.role]])]),"tenant"===z.role?(s(),t("div",We,[a[22]||(a[22]=i("label",{class:"label"},[i("span",{class:"label-text font-semibold"},"Ä°liÅŸkili Firma")],-1)),r(i("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>z.companyId=e),class:"select select-bordered w-full",required:""},[a[21]||(a[21]=i("option",{disabled:"",value:""},"Firma SeÃ§iniz",-1)),(s(!0),t(d,null,u(S.value,e=>(s(),t("option",{key:e.id,value:e.id},v(e.company),9,Xe))),128))],512),[[c,z.companyId]])])):m("",!0)]),a[23]||(a[23]=h('<div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class="font-bold">Bilgilendirme</h3><div class="text-xs">KullanÄ±cÄ± oluÅŸturulduktan sonra, belirtilen e-posta adresine ÅŸifre belirleme baÄŸlantÄ±sÄ± gÃ¶nderilecektir.</div></div></div>',1)),i("div",Ze,[i("button",{type:"button",onClick:F,class:"btn btn-ghost"},"Ä°ptal"),i("button",{type:"submit",class:"btn btn-primary",disabled:D.value},[D.value?(s(),t("span",aa)):m("",!0),p(" "+v(D.value?"KullanÄ±cÄ± OluÅŸturuluyor...":"KullanÄ±cÄ±yÄ± OluÅŸtur"),1)],8,ea)])],32)])])):m("",!0)]))}},ta={class:"p-4 sm:p-6 lg:p-8 space-y-6 bg-base-200 min-h-screen"},sa={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ia={class:"stat bg-base-100 shadow rounded-box"},na={class:"stat-value text-secondary"},ra={class:"stat bg-base-100 shadow rounded-box"},oa={class:"stat-value text-accent"},ca={role:"tablist",class:"tabs tabs-bordered tabs-lg"},da=["onClick"],ua={class:"mt-6"},va={class:"card bg-base-100 shadow-xl"},ma={class:"card-body"},ba={key:0},pa={key:1},ya={key:2},ga={key:3},ha={__name:"AdminDashboard",setup(a){const n=e("dues"),r=[{key:"dues",label:"Aidat TanÄ±mlama",icon:"ðŸ“†"},{key:"ownerDues",label:"Mal Sahibi AidatlarÄ±",icon:"ðŸ "},{key:"owners",label:"Mal Sahipleri",icon:"ðŸ§‘â€ðŸ’¼"},{key:"users",label:"KullanÄ±cÄ± YÃ¶netimi",icon:"ðŸ‘¥"}],o=e(0),c=e(0);e(0);return l(async()=>{try{const e=await A.getTenantStats();o.value=(null==e?void 0:e.activeCount)||(null==e?void 0:e.totalCount)||0}catch(e){}}),(e,a)=>(s(),t("div",ta,[i("div",sa,[i("div",ia,[a[0]||(a[0]=i("div",{class:"stat-figure text-secondary"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-8 h-8 stroke-current"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.004 3.004 0 01-2.732 2.732M11 16V7a3 3 0 013-3h2M11 16h2m-4.5-4.5H7.571a3 3 0 00-2.732 2.732"})])],-1)),a[1]||(a[1]=i("div",{class:"stat-title"},"Toplam KiracÄ±",-1)),i("div",na,v(o.value),1),a[2]||(a[2]=i("div",{class:"stat-desc"},"Sistemdeki aktif kiracÄ±lar",-1))]),i("div",ra,[a[3]||(a[3]=i("div",{class:"stat-figure text-accent"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-8 h-8 stroke-current"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a[4]||(a[4]=i("div",{class:"stat-title"},"Toplam Mal Sahibi",-1)),i("div",oa,v(c.value),1),a[5]||(a[5]=i("div",{class:"stat-desc"},"Sistemdeki mÃ¼lk sahipleri",-1))])]),i("div",ca,[(s(),t(d,null,u(r,e=>i("a",{key:e.key,role:"tab",class:y(["tab",{"tab-active":n.value===e.key}]),onClick:a=>n.value=e.key},v(e.icon)+" "+v(e.label),11,da)),64))]),i("div",ua,[i("div",va,[i("div",ma,[(s(),k(w,null,[i("div",null,["dues"===n.value?(s(),t("div",ba,[f(ye)])):m("",!0),"ownerDues"===n.value?(s(),t("div",pa,[f(S)])):m("",!0),"owners"===n.value?(s(),t("div",ya,[f(T)])):m("",!0),"users"===n.value?(s(),t("div",ga,[f(la)])):m("",!0)])],1024))])])])]))}};export{ha as default};
